(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var r={},a=[],s=0;s<t.length;s++){var l=t[s],d=o.base?l[0]+o.base:l[0],c=r[d]||0,A="".concat(d," ").concat(c);r[d]=c+1;var h=n(A),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)e[h].references++,e[h].updater(u);else{var g=i(u,o);o.byIndex=s,e.splice(s,0,{identifier:A,updater:g,references:1})}a.push(A)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=o(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<r.length;a++){var s=n(r[a]);e[s].references--}for(var l=o(t,i),d=0;d<r.length;d++){var c=n(r[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=l}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,i,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var d=0;d<t.length;d++){var c=[].concat(t[d]);o&&a[c[0]]||(void 0!==r&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=r),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},338:(t,e,n)=>{var o=n(795);e.H=o.createRoot,o.hydrateRoot},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),r="/*# ".concat(i," */");return[e].concat([r]).join("\n")}return[e].join("\n")}},439:(t,e,n)=>{n.d(e,{A:()=>s});var o=n(354),i=n.n(o),r=n(314),a=n.n(r)()(i());a.push([t.id,'/* DashDock Mantine Theme CSS */\n\n/* Define light theme values */\n:root[data-mantine-color-scheme="light"] {\n  --dashdock-bg-color: var(--mantine-color-gray-0, #f8f9fa);\n  --dashdock-border-color: var(--mantine-color-gray-3, #dee2e6);\n  --dashdock-tab-bg-color: var(--mantine-color-white, #ffffff);\n  --dashdock-tab-active-bg-color: var(--mantine-color-blue-0, #e7f5ff);\n  --dashdock-tab-hover-bg-color: var(--mantine-color-gray-1, #f1f3f5);\n  --dashdock-text-color: var(--mantine-color-dark-9, #212529);\n  --dashdock-tab-text-color: var(--mantine-color-dark-7, #495057);\n  --dashdock-tab-active-text-color: var(--mantine-color-blue-7, #1c7ed6);\n  --dashdock-splitter-color: var(--mantine-color-gray-3, #dee2e6);\n  --dashdock-splitter-hover-color: var(--mantine-color-blue-5, #339af0);\n  --dashdock-premium-indicator: var(--mantine-color-blue-7, #1c7ed6);\n  --dashdock-free-indicator: var(--mantine-color-gray-6, #868e96);\n  --dashdock-shadow: var(--mantine-shadow-sm, 0 1px 3px rgba(0, 0, 0, 0.1));\n  --dashdock-loading-bg: var(--mantine-color-gray-1, #f1f3f5);\n}\n\n/* Define dark theme values */\n:root[data-mantine-color-scheme="dark"] {\n  --dashdock-bg-color: var(--mantine-color-dark-7, #2e2e2e);\n  --dashdock-border-color: var(--mantine-color-dark-4, #424242);\n  --dashdock-tab-bg-color: var(--mantine-color-dark-6, #2e2e2e);\n  --dashdock-tab-active-bg-color: var(--mantine-color-dark-5, #3b3b3b);\n  --dashdock-tab-hover-bg-color: var(--mantine-color-dark-5, #3b3b3b);\n  --dashdock-text-color: var(--mantine-color-gray-2, #e9ecef);\n  --dashdock-tab-text-color: var(--mantine-color-gray-4, #ced4da);\n  --dashdock-tab-active-text-color: var(--mantine-color-blue-3, #74c0fc);\n  --dashdock-splitter-color: var(--mantine-color-dark-4, #424242);\n  --dashdock-splitter-hover-color: var(--mantine-color-blue-8, #1971c2);\n  --dashdock-premium-indicator: var(--mantine-color-blue-5, #339af0);\n  --dashdock-free-indicator: var(--mantine-color-gray-5, #adb5bd);\n  --dashdock-shadow: var(--mantine-shadow-md, 0 4px 6px rgba(0, 0, 0, 0.2));\n  --dashdock-loading-bg: var(--mantine-color-dark-5, #3b3b3b);\n}\n\n/* Default fallback theme (if no Mantine theme is detected) */\n:root:not([data-mantine-color-scheme]) {\n  --dashdock-bg-color: #f8f9fa;\n  --dashdock-border-color: #dee2e6;\n  --dashdock-tab-bg-color: #ffffff;\n  --dashdock-tab-active-bg-color: #e7f5ff;\n  --dashdock-tab-hover-bg-color: #f1f3f5;\n  --dashdock-text-color: #212529;\n  --dashdock-tab-text-color: #495057;\n  --dashdock-tab-active-text-color: #1c7ed6;\n  --dashdock-splitter-color: #dee2e6;\n  --dashdock-splitter-hover-color: #339af0;\n  --dashdock-premium-indicator: #1c7ed6;\n  --dashdock-free-indicator: #868e96;\n  --dashdock-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  --dashdock-loading-bg: #f1f3f5;\n}\n\n/* DashDock container styles */\n.dash-dock-container {\n  font-family: var(--mantine-font-family, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif);\n  background-color: var(--dashdock-bg-color);\n  color: var(--dashdock-text-color);\n  border-radius: var(--mantine-radius-md, 0.5rem);\n  overflow: hidden;\n  transition: all 0.2s ease;\n  box-shadow: var(--dashdock-shadow);\n}\n\n/* DashDock loading indicator */\n.dash-dock-loading {\n  font-family: var(--mantine-font-family, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif);\n  background-color: var(--dashdock-loading-bg);\n  color: var(--dashdock-text-color);\n  padding: 1rem;\n  border-radius: var(--mantine-radius-md, 0.5rem);\n  text-align: center;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: var(--dashdock-shadow);\n}\n\n/* Premium/Free indicators */\n.dash-dock-container .dashdock-premium-indicator,\n.dash-dock-container .dashdock-free-indicator {\n  font-size: 10px;\n  padding: 2px 0;\n  text-align: right;\n}\n\n.dash-dock-container .dashdock-premium-indicator {\n  color: var(--dashdock-premium-indicator);\n}\n\n.dash-dock-container .dashdock-free-indicator {\n  color: var(--dashdock-free-indicator);\n}\n\n/* FlexLayout overrides for Mantine compatibility */\n.dash-dock-container .flexlayout__layout {\n  --color-text: var(--dashdock-text-color);\n  --color-background: var(--dashdock-bg-color);\n  --color-base: var(--dashdock-bg-color);\n  --color-1: var(--dashdock-border-color);\n  --color-2: var(--dashdock-tab-bg-color);\n  --color-3: var(--dashdock-tab-active-bg-color);\n  --color-4: var(--dashdock-tab-hover-bg-color);\n  --color-5: var(--dashdock-tab-text-color);\n  --color-6: var(--dashdock-tab-active-text-color);\n  --color-drag1: var(--mantine-color-blue-6, #228be6);\n  --color-drag2: var(--mantine-color-blue-3, #74c0fc);\n  --color-overflow: var(--mantine-color-gray-6, #868e96);\n  --color-splitter: var(--dashdock-splitter-color);\n  --color-splitter-hover: var(--dashdock-splitter-hover-color);\n  --font-family: var(--mantine-font-family, inherit);\n  --color-icon: var(--dashdock-tab-text-color);\n  --color-tabset-background: var(--dashdock-bg-color);\n  --color-tabset-background-selected: var(--dashdock-tab-active-bg-color);\n  --color-tabset-foreground: var(--dashdock-tab-text-color);\n  --color-tabset-foreground-selected: var(--dashdock-tab-active-text-color);\n  --border-radius-tabset-tab: var(--mantine-radius-sm, 0.25rem);\n  --border-radius-tabset: var(--mantine-radius-md, 0.5rem);\n  --border-radius-tab-contents: var(--mantine-radius-sm, 0.25rem);\n}\n\n/* Tab styling */\n.dash-dock-container .flexlayout__tab {\n  background-color: var(--dashdock-tab-bg-color);\n  color: var(--dashdock-tab-text-color);\n  border-radius: var(--mantine-radius-sm, 0.25rem);\n  overflow: hidden;\n}\n\n.dash-dock-container .flexlayout__tab_button {\n  background-color: var(--dashdock-tab-bg-color);\n  color: var(--dashdock-tab-text-color);\n  border-radius: var(--mantine-radius-sm, 0.25rem) var(--mantine-radius-sm, 0.25rem) 0 0;\n  font-family: var(--mantine-font-family, inherit);\n  font-weight: 500;\n}\n\n.dash-dock-container .flexlayout__tab_button--selected {\n  background-color: var(--dashdock-tab-active-bg-color);\n  color: var(--dashdock-tab-active-text-color);\n  font-weight: 600;\n}\n\n.dash-dock-container .flexlayout__tab_button:hover {\n  background-color: var(--dashdock-tab-hover-bg-color);\n}\n\n/* Splitters */\n.dash-dock-container .flexlayout__splitter {\n  background-color: var(--dashdock-splitter-color);\n}\n\n.dash-dock-container .flexlayout__splitter:hover {\n  background-color: var(--dashdock-splitter-hover-color);\n}\n\n/* Borders */\n.dash-dock-container .flexlayout__border {\n  background-color: var(--dashdock-bg-color);\n  border-color: var(--dashdock-border-color);\n}\n\n.dash-dock-container .flexlayout__border_button {\n  background-color: var(--dashdock-tab-bg-color);\n  color: var(--dashdock-tab-text-color);\n}\n\n.dash-dock-container .flexlayout__border_button--selected {\n  background-color: var(--dashdock-tab-active-bg-color);\n  color: var(--dashdock-tab-active-text-color);\n}\n\n.dash-dock-container .flexlayout__border_button:hover {\n  background-color: var(--dashdock-tab-hover-bg-color);\n}\n\n/* Tabset */\n.dash-dock-container .flexlayout__tabset {\n  background-color: var(--dashdock-bg-color);\n  border-color: var(--dashdock-border-color);\n  border-radius: var(--mantine-radius-md, 0.5rem);\n}\n\n.dash-dock-container .flexlayout__tabset_header {\n  background-color: var(--dashdock-bg-color);\n  border-bottom: 1px solid var(--dashdock-border-color);\n  padding: 5px 5px 0 5px;\n}\n\n/* Icons */\n.dash-dock-container .flexlayout__tab_toolbar_button {\n  color: var(--dashdock-tab-text-color);\n}\n\n.dash-dock-container .flexlayout__tab_toolbar_button:hover {\n  color: var(--dashdock-tab-active-text-color);\n}\n\n/* Add transition for smooth theme changes */\n.dash-dock-container * {\n  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;\n}',"",{version:3,sources:["webpack://./src/lib/styles/theme.css"],names:[],mappings:"AAAA,+BAA+B;;AAE/B,8BAA8B;AAC9B;EACE,yDAAyD;EACzD,6DAA6D;EAC7D,4DAA4D;EAC5D,oEAAoE;EACpE,mEAAmE;EACnE,2DAA2D;EAC3D,+DAA+D;EAC/D,sEAAsE;EACtE,+DAA+D;EAC/D,qEAAqE;EACrE,kEAAkE;EAClE,+DAA+D;EAC/D,yEAAyE;EACzE,2DAA2D;AAC7D;;AAEA,6BAA6B;AAC7B;EACE,yDAAyD;EACzD,6DAA6D;EAC7D,6DAA6D;EAC7D,oEAAoE;EACpE,mEAAmE;EACnE,2DAA2D;EAC3D,+DAA+D;EAC/D,sEAAsE;EACtE,+DAA+D;EAC/D,qEAAqE;EACrE,kEAAkE;EAClE,+DAA+D;EAC/D,yEAAyE;EACzE,2DAA2D;AAC7D;;AAEA,6DAA6D;AAC7D;EACE,4BAA4B;EAC5B,gCAAgC;EAChC,gCAAgC;EAChC,uCAAuC;EACvC,sCAAsC;EACtC,8BAA8B;EAC9B,kCAAkC;EAClC,yCAAyC;EACzC,kCAAkC;EAClC,wCAAwC;EACxC,qCAAqC;EACrC,kCAAkC;EAClC,+CAA+C;EAC/C,8BAA8B;AAChC;;AAEA,8BAA8B;AAC9B;EACE,0HAA0H;EAC1H,0CAA0C;EAC1C,iCAAiC;EACjC,+CAA+C;EAC/C,gBAAgB;EAChB,yBAAyB;EACzB,kCAAkC;AACpC;;AAEA,+BAA+B;AAC/B;EACE,0HAA0H;EAC1H,4CAA4C;EAC5C,iCAAiC;EACjC,aAAa;EACb,+CAA+C;EAC/C,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,kCAAkC;AACpC;;AAEA,4BAA4B;AAC5B;;EAEE,eAAe;EACf,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,wCAAwC;AAC1C;;AAEA;EACE,qCAAqC;AACvC;;AAEA,mDAAmD;AACnD;EACE,wCAAwC;EACxC,4CAA4C;EAC5C,sCAAsC;EACtC,uCAAuC;EACvC,uCAAuC;EACvC,8CAA8C;EAC9C,6CAA6C;EAC7C,yCAAyC;EACzC,gDAAgD;EAChD,mDAAmD;EACnD,mDAAmD;EACnD,sDAAsD;EACtD,gDAAgD;EAChD,4DAA4D;EAC5D,kDAAkD;EAClD,4CAA4C;EAC5C,mDAAmD;EACnD,uEAAuE;EACvE,yDAAyD;EACzD,yEAAyE;EACzE,6DAA6D;EAC7D,wDAAwD;EACxD,+DAA+D;AACjE;;AAEA,gBAAgB;AAChB;EACE,8CAA8C;EAC9C,qCAAqC;EACrC,gDAAgD;EAChD,gBAAgB;AAClB;;AAEA;EACE,8CAA8C;EAC9C,qCAAqC;EACrC,sFAAsF;EACtF,gDAAgD;EAChD,gBAAgB;AAClB;;AAEA;EACE,qDAAqD;EACrD,4CAA4C;EAC5C,gBAAgB;AAClB;;AAEA;EACE,oDAAoD;AACtD;;AAEA,cAAc;AACd;EACE,gDAAgD;AAClD;;AAEA;EACE,sDAAsD;AACxD;;AAEA,YAAY;AACZ;EACE,0CAA0C;EAC1C,0CAA0C;AAC5C;;AAEA;EACE,8CAA8C;EAC9C,qCAAqC;AACvC;;AAEA;EACE,qDAAqD;EACrD,4CAA4C;AAC9C;;AAEA;EACE,oDAAoD;AACtD;;AAEA,WAAW;AACX;EACE,0CAA0C;EAC1C,0CAA0C;EAC1C,+CAA+C;AACjD;;AAEA;EACE,0CAA0C;EAC1C,qDAAqD;EACrD,sBAAsB;AACxB;;AAEA,UAAU;AACV;EACE,qCAAqC;AACvC;;AAEA;EACE,4CAA4C;AAC9C;;AAEA,4CAA4C;AAC5C;EACE,+EAA+E;AACjF",sourcesContent:['/* DashDock Mantine Theme CSS */\n\n/* Define light theme values */\n:root[data-mantine-color-scheme="light"] {\n  --dashdock-bg-color: var(--mantine-color-gray-0, #f8f9fa);\n  --dashdock-border-color: var(--mantine-color-gray-3, #dee2e6);\n  --dashdock-tab-bg-color: var(--mantine-color-white, #ffffff);\n  --dashdock-tab-active-bg-color: var(--mantine-color-blue-0, #e7f5ff);\n  --dashdock-tab-hover-bg-color: var(--mantine-color-gray-1, #f1f3f5);\n  --dashdock-text-color: var(--mantine-color-dark-9, #212529);\n  --dashdock-tab-text-color: var(--mantine-color-dark-7, #495057);\n  --dashdock-tab-active-text-color: var(--mantine-color-blue-7, #1c7ed6);\n  --dashdock-splitter-color: var(--mantine-color-gray-3, #dee2e6);\n  --dashdock-splitter-hover-color: var(--mantine-color-blue-5, #339af0);\n  --dashdock-premium-indicator: var(--mantine-color-blue-7, #1c7ed6);\n  --dashdock-free-indicator: var(--mantine-color-gray-6, #868e96);\n  --dashdock-shadow: var(--mantine-shadow-sm, 0 1px 3px rgba(0, 0, 0, 0.1));\n  --dashdock-loading-bg: var(--mantine-color-gray-1, #f1f3f5);\n}\n\n/* Define dark theme values */\n:root[data-mantine-color-scheme="dark"] {\n  --dashdock-bg-color: var(--mantine-color-dark-7, #2e2e2e);\n  --dashdock-border-color: var(--mantine-color-dark-4, #424242);\n  --dashdock-tab-bg-color: var(--mantine-color-dark-6, #2e2e2e);\n  --dashdock-tab-active-bg-color: var(--mantine-color-dark-5, #3b3b3b);\n  --dashdock-tab-hover-bg-color: var(--mantine-color-dark-5, #3b3b3b);\n  --dashdock-text-color: var(--mantine-color-gray-2, #e9ecef);\n  --dashdock-tab-text-color: var(--mantine-color-gray-4, #ced4da);\n  --dashdock-tab-active-text-color: var(--mantine-color-blue-3, #74c0fc);\n  --dashdock-splitter-color: var(--mantine-color-dark-4, #424242);\n  --dashdock-splitter-hover-color: var(--mantine-color-blue-8, #1971c2);\n  --dashdock-premium-indicator: var(--mantine-color-blue-5, #339af0);\n  --dashdock-free-indicator: var(--mantine-color-gray-5, #adb5bd);\n  --dashdock-shadow: var(--mantine-shadow-md, 0 4px 6px rgba(0, 0, 0, 0.2));\n  --dashdock-loading-bg: var(--mantine-color-dark-5, #3b3b3b);\n}\n\n/* Default fallback theme (if no Mantine theme is detected) */\n:root:not([data-mantine-color-scheme]) {\n  --dashdock-bg-color: #f8f9fa;\n  --dashdock-border-color: #dee2e6;\n  --dashdock-tab-bg-color: #ffffff;\n  --dashdock-tab-active-bg-color: #e7f5ff;\n  --dashdock-tab-hover-bg-color: #f1f3f5;\n  --dashdock-text-color: #212529;\n  --dashdock-tab-text-color: #495057;\n  --dashdock-tab-active-text-color: #1c7ed6;\n  --dashdock-splitter-color: #dee2e6;\n  --dashdock-splitter-hover-color: #339af0;\n  --dashdock-premium-indicator: #1c7ed6;\n  --dashdock-free-indicator: #868e96;\n  --dashdock-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  --dashdock-loading-bg: #f1f3f5;\n}\n\n/* DashDock container styles */\n.dash-dock-container {\n  font-family: var(--mantine-font-family, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif);\n  background-color: var(--dashdock-bg-color);\n  color: var(--dashdock-text-color);\n  border-radius: var(--mantine-radius-md, 0.5rem);\n  overflow: hidden;\n  transition: all 0.2s ease;\n  box-shadow: var(--dashdock-shadow);\n}\n\n/* DashDock loading indicator */\n.dash-dock-loading {\n  font-family: var(--mantine-font-family, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif);\n  background-color: var(--dashdock-loading-bg);\n  color: var(--dashdock-text-color);\n  padding: 1rem;\n  border-radius: var(--mantine-radius-md, 0.5rem);\n  text-align: center;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: var(--dashdock-shadow);\n}\n\n/* Premium/Free indicators */\n.dash-dock-container .dashdock-premium-indicator,\n.dash-dock-container .dashdock-free-indicator {\n  font-size: 10px;\n  padding: 2px 0;\n  text-align: right;\n}\n\n.dash-dock-container .dashdock-premium-indicator {\n  color: var(--dashdock-premium-indicator);\n}\n\n.dash-dock-container .dashdock-free-indicator {\n  color: var(--dashdock-free-indicator);\n}\n\n/* FlexLayout overrides for Mantine compatibility */\n.dash-dock-container .flexlayout__layout {\n  --color-text: var(--dashdock-text-color);\n  --color-background: var(--dashdock-bg-color);\n  --color-base: var(--dashdock-bg-color);\n  --color-1: var(--dashdock-border-color);\n  --color-2: var(--dashdock-tab-bg-color);\n  --color-3: var(--dashdock-tab-active-bg-color);\n  --color-4: var(--dashdock-tab-hover-bg-color);\n  --color-5: var(--dashdock-tab-text-color);\n  --color-6: var(--dashdock-tab-active-text-color);\n  --color-drag1: var(--mantine-color-blue-6, #228be6);\n  --color-drag2: var(--mantine-color-blue-3, #74c0fc);\n  --color-overflow: var(--mantine-color-gray-6, #868e96);\n  --color-splitter: var(--dashdock-splitter-color);\n  --color-splitter-hover: var(--dashdock-splitter-hover-color);\n  --font-family: var(--mantine-font-family, inherit);\n  --color-icon: var(--dashdock-tab-text-color);\n  --color-tabset-background: var(--dashdock-bg-color);\n  --color-tabset-background-selected: var(--dashdock-tab-active-bg-color);\n  --color-tabset-foreground: var(--dashdock-tab-text-color);\n  --color-tabset-foreground-selected: var(--dashdock-tab-active-text-color);\n  --border-radius-tabset-tab: var(--mantine-radius-sm, 0.25rem);\n  --border-radius-tabset: var(--mantine-radius-md, 0.5rem);\n  --border-radius-tab-contents: var(--mantine-radius-sm, 0.25rem);\n}\n\n/* Tab styling */\n.dash-dock-container .flexlayout__tab {\n  background-color: var(--dashdock-tab-bg-color);\n  color: var(--dashdock-tab-text-color);\n  border-radius: var(--mantine-radius-sm, 0.25rem);\n  overflow: hidden;\n}\n\n.dash-dock-container .flexlayout__tab_button {\n  background-color: var(--dashdock-tab-bg-color);\n  color: var(--dashdock-tab-text-color);\n  border-radius: var(--mantine-radius-sm, 0.25rem) var(--mantine-radius-sm, 0.25rem) 0 0;\n  font-family: var(--mantine-font-family, inherit);\n  font-weight: 500;\n}\n\n.dash-dock-container .flexlayout__tab_button--selected {\n  background-color: var(--dashdock-tab-active-bg-color);\n  color: var(--dashdock-tab-active-text-color);\n  font-weight: 600;\n}\n\n.dash-dock-container .flexlayout__tab_button:hover {\n  background-color: var(--dashdock-tab-hover-bg-color);\n}\n\n/* Splitters */\n.dash-dock-container .flexlayout__splitter {\n  background-color: var(--dashdock-splitter-color);\n}\n\n.dash-dock-container .flexlayout__splitter:hover {\n  background-color: var(--dashdock-splitter-hover-color);\n}\n\n/* Borders */\n.dash-dock-container .flexlayout__border {\n  background-color: var(--dashdock-bg-color);\n  border-color: var(--dashdock-border-color);\n}\n\n.dash-dock-container .flexlayout__border_button {\n  background-color: var(--dashdock-tab-bg-color);\n  color: var(--dashdock-tab-text-color);\n}\n\n.dash-dock-container .flexlayout__border_button--selected {\n  background-color: var(--dashdock-tab-active-bg-color);\n  color: var(--dashdock-tab-active-text-color);\n}\n\n.dash-dock-container .flexlayout__border_button:hover {\n  background-color: var(--dashdock-tab-hover-bg-color);\n}\n\n/* Tabset */\n.dash-dock-container .flexlayout__tabset {\n  background-color: var(--dashdock-bg-color);\n  border-color: var(--dashdock-border-color);\n  border-radius: var(--mantine-radius-md, 0.5rem);\n}\n\n.dash-dock-container .flexlayout__tabset_header {\n  background-color: var(--dashdock-bg-color);\n  border-bottom: 1px solid var(--dashdock-border-color);\n  padding: 5px 5px 0 5px;\n}\n\n/* Icons */\n.dash-dock-container .flexlayout__tab_toolbar_button {\n  color: var(--dashdock-tab-text-color);\n}\n\n.dash-dock-container .flexlayout__tab_toolbar_button:hover {\n  color: var(--dashdock-tab-active-text-color);\n}\n\n/* Add transition for smooth theme changes */\n.dash-dock-container * {\n  transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;\n}'],sourceRoot:""}]);const s=a},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},591:(t,e,n)=>{n.d(e,{A:()=>s});var o=n(354),i=n.n(o),r=n(314),a=n.n(r)()(i());a.push([t.id,".flexlayout__layout {\n  --color-text: black;\n  --color-background: white;\n  --color-base: white;\n  --color-1: rgb(247.35, 247.35, 247.35);\n  --color-2: rgb(239.9295, 239.9295, 239.9295);\n  --color-3: rgb(232.731615, 232.731615, 232.731615);\n  --color-4: rgb(225.74966655, 225.74966655, 225.74966655);\n  --color-5: rgb(218.9771765535, 218.9771765535, 218.9771765535);\n  --color-6: rgb(212.4078612569, 212.4078612569, 212.4078612569);\n  --color-drag1: rgb(95, 134, 196);\n  --color-drag2: rgb(119, 166, 119);\n  --color-drag1-background: rgba(95, 134, 196, 0.1);\n  --color-drag2-background: rgba(119, 166, 119, 0.075);\n  --font-size: medium;\n  --font-family: Roboto, Arial, sans-serif;\n  --color-overflow: gray;\n  --color-icon: gray;\n  --color-tabset-background: var(--color-background);\n  --color-tabset-background-selected: var(--color-1);\n  --color-tabset-background-maximized: var(--color-6);\n  --color-tabset-divider-line: var(--color-4);\n  --color-tabset-header-background: var(--color-background);\n  --color-tabset-header: var(--color-text);\n  --color-border-tab-content: var(--color-background);\n  --color-border-background: var(--color-background);\n  --color-border-divider-line: var(--color-4);\n  --color-tab-content: var(--color-background);\n  --color-tab-selected: var(--color-text);\n  --color-tab-selected-background: var(--color-4);\n  --color-tab-unselected: gray;\n  --color-tab-unselected-background: transparent;\n  --color-tab-textbox: var(--color-text);\n  --color-tab-textbox-background: var(--color-3);\n  --color-border-tab-selected: var(--color-text);\n  --color-border-tab-selected-background: var(--color-4);\n  --color-border-tab-unselected: gray;\n  --color-border-tab-unselected-background: var(--color-2);\n  --color-splitter: var(--color-1);\n  --color-splitter-hover: var(--color-4);\n  --color-splitter-drag: var(--color-4);\n  --color-drag-rect-border: #ccc;\n  --color-drag-rect-background: var(--color-5);\n  --color-drag-rect: var(--color-text);\n  --color-popup-border: var(--color-6);\n  --color-popup-unselected: var(--color-text);\n  --color-popup-unselected-background: white;\n  --color-popup-selected: var(--color-text);\n  --color-popup-selected-background: var(--color-3);\n  --color-edge-marker: #aaa;\n  --color-edge-icon: #555;\n}\n\n.flexlayout__layout {\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  display: flex;\n}\n.flexlayout__layout_overlay {\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  z-index: 1000;\n}\n.flexlayout__layout_tab_stamps {\n  position: absolute;\n  top: -10000px;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n}\n.flexlayout__layout_moveables {\n  visibility: hidden;\n  position: absolute;\n  width: 100px;\n  height: 100px;\n  top: -20000px;\n}\n.flexlayout__layout_main {\n  display: flex;\n  flex-basis: 0px;\n  min-width: 0;\n  min-height: 0;\n  flex-grow: 1;\n  position: relative;\n}\n.flexlayout__layout_border_container {\n  display: flex;\n  flex-basis: 0px;\n  min-width: 0;\n  min-height: 0;\n  flex-grow: 1;\n}\n.flexlayout__layout_border_container_inner {\n  display: flex;\n  flex-basis: 0px;\n  min-width: 0;\n  min-height: 0;\n  flex-grow: 1;\n}\n.flexlayout__splitter {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--color-splitter);\n  touch-action: none;\n  z-index: 10;\n}\n@media (hover: hover) {\n  .flexlayout__splitter:hover {\n    background-color: var(--color-splitter-hover);\n    transition: background-color ease-in 0.1s;\n    transition-delay: 0.05s;\n  }\n}\n.flexlayout__splitter_drag {\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  background-color: var(--color-splitter-drag);\n}\n.flexlayout__splitter_handle {\n  background-color: #ccc;\n  border-radius: 3px;\n}\n.flexlayout__splitter_handle_horz {\n  width: 3px;\n  height: 30px;\n}\n.flexlayout__splitter_handle_vert {\n  width: 30px;\n  height: 3px;\n}\n.flexlayout__splitter_extra {\n  touch-action: none;\n  background-color: transparent;\n}\n.flexlayout__outline_rect {\n  position: absolute;\n  pointer-events: none;\n  box-sizing: border-box;\n  border: 2px solid var(--color-drag1);\n  background: var(--color-drag1-background);\n  border-radius: 5px;\n  z-index: 1000;\n}\n.flexlayout__outline_rect_edge {\n  pointer-events: none;\n  border: 2px solid var(--color-drag2);\n  background: var(--color-drag2-background);\n  border-radius: 5px;\n  z-index: 1000;\n  box-sizing: border-box;\n}\n.flexlayout__edge_rect {\n  position: absolute;\n  z-index: 1000;\n  background-color: var(--color-edge-marker);\n  pointer-events: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.flexlayout__drag_rect {\n  color: var(--color-drag-rect);\n  background-color: var(--color-drag-rect-background);\n  border: 2px solid var(--color-drag-rect-border);\n  border-radius: 5px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  overflow: hidden;\n  padding: 0.3em 0.8em;\n  word-wrap: break-word;\n  font-size: var(--font-size);\n  font-family: var(--font-family);\n}\n.flexlayout__row {\n  display: flex;\n  flex-basis: 0px;\n  min-width: 0;\n  min-height: 0;\n  position: relative;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.flexlayout__tabset {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background-color: var(--color-tabset-background);\n  box-sizing: border-box;\n  font-family: var(--font-family);\n  overflow: hidden;\n  flex-grow: 1;\n}\n.flexlayout__tabset_container {\n  display: flex;\n  flex-basis: 0px;\n  min-width: 0;\n  min-height: 0;\n  flex-direction: column;\n  overflow: hidden;\n  flex-grow: 1;\n}\n.flexlayout__tabset_tab_divider {\n  width: 4px;\n}\n.flexlayout__tabset_content {\n  display: flex;\n  flex-basis: 0px;\n  min-width: 0;\n  min-height: 0;\n  flex-grow: 1;\n  box-sizing: border-box;\n  position: relative;\n}\n.flexlayout__tabset_header {\n  display: flex;\n  align-items: center;\n  padding: 3px 3px 3px 5px;\n  box-sizing: border-box;\n  border-bottom: 1px solid var(--color-tabset-divider-line);\n  color: var(--color-tabset-header);\n  background-color: var(--color-tabset-header-background);\n  font-size: var(--font-size);\n}\n.flexlayout__tabset_header_content {\n  flex-grow: 1;\n}\n.flexlayout__tabset_tabbar_outer {\n  box-sizing: border-box;\n  background-color: var(--color-tabset-background);\n  overflow: hidden;\n  display: flex;\n  font-size: var(--font-size);\n}\n.flexlayout__tabset_tabbar_outer_top {\n  padding: 0px 2px 0px 2px;\n  border-bottom: 1px solid var(--color-tabset-divider-line);\n}\n.flexlayout__tabset_tabbar_outer_bottom {\n  padding: 0px 2px 0px 2px;\n  border-top: 1px solid var(--color-tabset-divider-line);\n}\n.flexlayout__tabset_tabbar_inner {\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  flex-grow: 1;\n  overflow: hidden;\n}\n.flexlayout__tabset_tabbar_inner_tab_container {\n  position: relative;\n  display: flex;\n  padding-left: 4px;\n  padding-right: 4px;\n  box-sizing: border-box;\n  white-space: nowrap;\n}\n.flexlayout__tabset_tabbar_inner_tab_container_top {\n  border-top: 2px solid transparent;\n}\n.flexlayout__tabset_tabbar_inner_tab_container_bottom {\n  border-bottom: 2px solid transparent;\n}\n.flexlayout__tabset-selected {\n  background-color: var(--color-tabset-background-selected);\n}\n.flexlayout__tabset-maximized {\n  background-color: var(--color-tabset-background-maximized);\n}\n.flexlayout__tab_button_stamp {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.3em;\n  white-space: nowrap;\n  box-sizing: border-box;\n}\n.flexlayout__tab {\n  overflow: hidden;\n  box-sizing: border-box;\n  background-color: var(--color-tab-content);\n  color: var(--color-text);\n  position: relative;\n}\n.flexlayout__tab_moveable {\n  position: relative;\n  height: 100%;\n  min-width: 1px;\n  min-height: 1px;\n  overflow: auto;\n  box-sizing: border-box;\n}\n.flexlayout__tab_overlay {\n  z-index: 20;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.2392156863);\n}\n.flexlayout__tab_button {\n  display: flex;\n  gap: 0.3em;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 3px 0.5em;\n  cursor: pointer;\n}\n.flexlayout__tab_button_stretch {\n  background-color: transparent;\n  color: var(--color-tab-selected);\n  width: 100%;\n  padding: 3px 0em;\n  text-wrap: nowrap;\n  display: flex;\n  gap: 0.3em;\n  align-items: center;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .flexlayout__tab_button_stretch:hover {\n    color: var(--color-tab-selected);\n  }\n}\n.flexlayout__tab_button--selected {\n  background-color: var(--color-tab-selected-background);\n  color: var(--color-tab-selected);\n}\n@media (hover: hover) {\n  .flexlayout__tab_button:hover {\n    background-color: var(--color-tab-selected-background);\n    color: var(--color-tab-selected);\n  }\n}\n.flexlayout__tab_button--unselected {\n  background-color: var(--color-tab-unselected-background);\n  color: var(--color-tab-unselected);\n  color: gray;\n}\n.flexlayout__tab_button_leading {\n  display: flex;\n}\n.flexlayout__tab_button_content {\n  display: flex;\n  text-wrap: nowrap;\n}\n.flexlayout__tab_button_textbox {\n  border: none;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--color-tab-textbox);\n  background-color: var(--color-tab-textbox-background);\n  border: 1px inset var(--color-1);\n  border-radius: 3px;\n  width: 10em;\n}\n.flexlayout__tab_button_textbox:focus {\n  outline: none;\n}\n.flexlayout__tab_button_trailing {\n  display: flex;\n  visibility: hidden;\n  border-radius: 4px;\n}\n.flexlayout__tab_button_trailing:hover {\n  background-color: var(--color-3);\n}\n@media (hover: hover) {\n  .flexlayout__tab_button:hover .flexlayout__tab_button_trailing {\n    visibility: visible;\n  }\n}\n.flexlayout__tab_button--selected .flexlayout__tab_button_trailing {\n  visibility: visible;\n}\n.flexlayout__tab_button_overflow {\n  display: flex;\n  align-items: center;\n  border: none;\n  color: var(--color-overflow);\n  font-size: inherit;\n  background-color: transparent;\n}\n.flexlayout__tab_toolbar {\n  display: flex;\n  align-items: center;\n  gap: 0.3em;\n  padding-left: 0.5em;\n  padding-right: 0.3em;\n}\n.flexlayout__tab_toolbar_icon {\n  border: none;\n  outline: none;\n  font-size: inherit;\n  margin: 0px;\n  background-color: transparent;\n  padding: 1px;\n}\n.flexlayout__tab_toolbar_button {\n  border: none;\n  outline: none;\n  font-size: inherit;\n  margin: 0px;\n  background-color: transparent;\n  border-radius: 4px;\n  padding: 1px;\n}\n@media (hover: hover) {\n  .flexlayout__tab_toolbar_button:hover {\n    background-color: var(--color-2);\n  }\n}\n.flexlayout__tab_toolbar_sticky_buttons_container {\n  display: flex;\n  gap: 0.3em;\n  padding-left: 5px;\n  align-items: center;\n}\n.flexlayout__tab_floating {\n  overflow: auto;\n  position: absolute;\n  box-sizing: border-box;\n  color: var(--color-text);\n  background-color: var(--color-background);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.flexlayout__tab_floating_inner {\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.flexlayout__tab_floating_inner div {\n  margin-bottom: 5px;\n  text-align: center;\n}\n.flexlayout__tab_floating_inner div a {\n  color: royalblue;\n}\n.flexlayout__border {\n  box-sizing: border-box;\n  overflow: hidden;\n  display: flex;\n  font-size: var(--font-size);\n  font-family: var(--font-family);\n  color: var(--color-border);\n  background-color: var(--color-border-background);\n}\n.flexlayout__border_tab_contents {\n  box-sizing: border-box;\n  overflow: hidden;\n  background-color: var(--color-border-tab-content);\n}\n.flexlayout__border_top {\n  border-bottom: 1px solid var(--color-border-divider-line);\n  align-items: center;\n}\n.flexlayout__border_bottom {\n  border-top: 1px solid var(--color-border-divider-line);\n  align-items: center;\n}\n.flexlayout__border_left {\n  border-right: 1px solid var(--color-border-divider-line);\n  align-content: center;\n  flex-direction: column;\n}\n.flexlayout__border_right {\n  border-left: 1px solid var(--color-border-divider-line);\n  align-content: center;\n  flex-direction: column;\n}\n.flexlayout__border_inner {\n  position: relative;\n  box-sizing: border-box;\n  display: flex;\n  overflow: hidden;\n  flex-grow: 1;\n}\n.flexlayout__border_inner_tab_container {\n  white-space: nowrap;\n  display: flex;\n  padding-left: 2px;\n  padding-right: 2px;\n  box-sizing: border-box;\n  position: absolute;\n  width: 10000px;\n}\n.flexlayout__border_inner_tab_container_right {\n  transform-origin: top left;\n  transform: rotate(90deg);\n}\n.flexlayout__border_inner_tab_container_left {\n  flex-direction: row-reverse;\n  transform-origin: top right;\n  transform: rotate(-90deg);\n}\n.flexlayout__border_tab_divider {\n  width: 4px;\n}\n.flexlayout__border_button {\n  display: flex;\n  gap: 0.3em;\n  align-items: center;\n  cursor: pointer;\n  padding: 3px 0.5em;\n  margin: 2px 0px;\n  box-sizing: border-box;\n  white-space: nowrap;\n}\n.flexlayout__border_button--selected {\n  background-color: var(--color-border-tab-selected-background);\n  color: var(--color-border-tab-selected);\n}\n@media (hover: hover) {\n  .flexlayout__border_button:hover {\n    background-color: var(--color-border-tab-selected-background);\n    color: var(--color-border-tab-selected);\n  }\n}\n.flexlayout__border_button--unselected {\n  background-color: var(--color-border-tab-unselected-background);\n  color: var(--color-border-tab-unselected);\n}\n.flexlayout__border_button_leading {\n  display: flex;\n}\n.flexlayout__border_button_content {\n  display: flex;\n}\n.flexlayout__border_button_trailing {\n  display: flex;\n  border-radius: 4px;\n  visibility: hidden;\n}\n.flexlayout__border_button_trailing:hover {\n  background-color: var(--color-3);\n}\n@media (hover: hover) {\n  .flexlayout__border_button:hover .flexlayout__border_button_trailing {\n    visibility: visible;\n  }\n}\n.flexlayout__border_button--selected .flexlayout__border_button_trailing {\n  visibility: visible;\n}\n.flexlayout__border_toolbar {\n  display: flex;\n  gap: 0.3em;\n  align-items: center;\n}\n.flexlayout__border_toolbar_left, .flexlayout__border_toolbar_right {\n  flex-direction: column;\n  padding-top: 0.5em;\n  padding-bottom: 0.3em;\n}\n.flexlayout__border_toolbar_top, .flexlayout__border_toolbar_bottom {\n  padding-left: 0.5em;\n  padding-right: 0.3em;\n}\n.flexlayout__border_toolbar_button {\n  border: none;\n  outline: none;\n  font-size: inherit;\n  background-color: transparent;\n  border-radius: 4px;\n  padding: 1px;\n}\n@media (hover: hover) {\n  .flexlayout__border_toolbar_button:hover {\n    background-color: var(--color-2);\n  }\n}\n.flexlayout__border_toolbar_button_overflow {\n  display: flex;\n  align-items: center;\n  border: none;\n  color: var(--color-overflow);\n  font-size: inherit;\n  background-color: transparent;\n}\n.flexlayout__popup_menu {\n  font-size: var(--font-size);\n  font-family: var(--font-family);\n}\n.flexlayout__popup_menu_item {\n  padding: 2px 0.5em;\n  white-space: nowrap;\n  cursor: pointer;\n  border-radius: 2px;\n}\n@media (hover: hover) {\n  .flexlayout__popup_menu_item:hover {\n    background-color: var(--color-6);\n  }\n}\n.flexlayout__popup_menu_container {\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.15);\n  border: 1px solid var(--color-popup-border);\n  color: var(--color-popup-unselected);\n  background: var(--color-popup-unselected-background);\n  border-radius: 3px;\n  position: absolute;\n  z-index: 1000;\n  max-height: 50%;\n  min-width: 100px;\n  overflow: auto;\n  padding: 2px;\n}\n.flexlayout__floating_window _body {\n  height: 100%;\n}\n.flexlayout__floating_window_content {\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n}\n.flexlayout__error_boundary_container {\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n}\n.flexlayout__error_boundary_content {\n  display: flex;\n  align-items: center;\n}\n.flexlayout__tabset_sizer {\n  padding-top: 5px;\n  padding-bottom: 3px;\n  font-size: var(--font-size);\n  font-family: var(--font-family);\n}\n.flexlayout__tabset_header_sizer {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  font-size: var(--font-size);\n  font-family: var(--font-family);\n}\n.flexlayout__border_sizer {\n  position: absolute;\n  top: -30000px;\n  padding-top: 6px;\n  padding-bottom: 5px;\n  font-size: var(--font-size);\n  font-family: var(--font-family);\n}\n\n/*# sourceMappingURL=light.css.map */\n","",{version:3,sources:["webpack://./node_modules/flexlayout-react/style/light.scss","webpack://./node_modules/flexlayout-react/style/light.css","webpack://./node_modules/flexlayout-react/style/_base.scss"],names:[],mappings:"AAkBI;EACI,mBAAA;EACA,yBAAA;EACA,mBAAA;EACA,sCAAA;EACA,4CAAA;EACA,kDAAA;EACA,wDAAA;EACA,8DAAA;EACA,8DAAA;EACA,gCAAA;EACA,iCAAA;EACA,iDAAA;EACA,oDAAA;EAEA,mBAAA;EACA,wCAAA;EAEA,sBAAA;EACA,kBAAA;EAEA,kDAAA;EACA,kDAAA;EACA,mDAAA;EACA,2CAAA;EAEA,yDAAA;EACA,wCAAA;EAEA,mDAAA;EACA,kDAAA;EACA,2CAAA;EAEA,4CAAA;EACA,uCAAA;EACA,+CAAA;EACA,4BAAA;EACA,8CAAA;EACA,sCAAA;EACA,8CAAA;EAEA,8CAAA;EACA,sDAAA;EACA,mCAAA;EACA,wDAAA;EAEA,gCAAA;EACA,sCAAA;EACA,qCAAA;EAEA,8BAAA;EACA,4CAAA;EACA,oCAAA;EAEA,oCAAA;EACA,2CAAA;EACA,0CAAA;EACA,yCAAA;EACA,iDAAA;EAEA,yBAAA;EACA,uBAAA;AC5BR;;ACnCI;EAfA,OAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,kBAAA;EAaI,aAAA;AD0CR;ACxCQ;EAnBJ,OAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,kBAAA;EAiBQ,aAAA;AD8CZ;AC3CQ;EACI,kBAAA;EACA,aAAA;EACA,YAAA;EACA,aAAA;EACA,sBAAA;EACA,kBAAA;AD6CZ;AC1CQ;EACI,kBAAA;EACA,kBAAA;EACA,YAAA;EACA,aAAA;EACA,aAAA;AD4CZ;ACzCQ;EAjCJ,aAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EAgCQ,YAAA;EACA,kBAAA;AD8CZ;AC1CI;EAxCA,aAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EAuCI,YAAA;AD+CR;AC5CI;EA7CA,aAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EA4CI,YAAA;ADiDR;AC9CI;EACI,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,uCAAA;EACA,kBAAA;EACA,WAAA;ADgDR;AC7CQ;EACI;IACI,6CAAA;IACA,yCAAA;IACA,uBAAA;ED+Cd;AACF;ACzCQ;EACI,kBAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;EACA,aAAA;EACA,4CAAA;AD2CZ;ACxCQ;EACI,sBAAA;EACA,kBAAA;AD0CZ;ACxCY;EACI,UAAA;EACA,YAAA;AD0ChB;ACxCY;EACI,WAAA;EACA,WAAA;AD0ChB;ACtCQ;EACI,kBAAA;EACA,6BAAA;ADwCZ;ACpCI;EACI,kBAAA;EACA,oBAAA;EACA,sBAAA;EACA,oCAAA;EACA,yCAAA;EACA,kBAAA;EACA,aAAA;ADsCR;ACpCQ;EACI,oBAAA;EACA,oCAAA;EACA,yCAAA;EACA,kBAAA;EACA,aAAA;EACA,sBAAA;ADsCZ;AClCI;EACI,kBAAA;EACA,aAAA;EACA,0CAAA;EACA,oBAAA;EACA,aAAA;EACA,mBAAA;EACA,uBAAA;ADoCR;ACjCI;EACI,6BAAA;EACA,mDAAA;EACA,+CAAA;EACA,kBAAA;EACA,sBAAA;EAGA,aAAA;EACA,uBAAA;EACA,sBAAA;EACA,gBAAA;EACA,oBAAA;EACA,qBAAA;EACA,2BAAA;EACA,+BAAA;ADiCR;AC9BI;EAlJA,aAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EAiJI,kBAAA;EACA,sBAAA;EACA,gBAAA;ADmCR;AChCI;EACI,aAAA;EACA,sBAAA;EACA,kBAAA;EACA,gDAAA;EACA,sBAAA;EACA,+BAAA;EACA,gBAAA;EACA,YAAA;ADkCR;AC/BQ;EApKJ,aAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EAmKQ,sBAAA;EACA,gBAAA;EACA,YAAA;ADoCZ;ACjCQ;EACI,UAAA;ADmCZ;AC/BQ;EAhLJ,aAAA;EACA,eAAA;EACA,YAAA;EACA,aAAA;EA+KQ,YAAA;EACA,sBAAA;EACA,kBAAA;ADoCZ;ACjCQ;EAEI,aAAA;EACA,mBAAA;EACA,wBAAA;EACA,sBAAA;EACA,yDAAA;EACA,iCAAA;EACA,uDAAA;EACA,2BAAA;ADkCZ;AC/BY;EACI,YAAA;ADiChB;AC5BY;EAEI,sBAAA;EACA,gDAAA;EACA,gBAAA;EACA,aAAA;EACA,2BAAA;AD6BhB;ACzBY;EACI,wBAAA;EACA,yDAAA;AD2BhB;ACxBY;EACI,wBAAA;EACA,sDAAA;AD0BhB;ACvBY;EAEI,kBAAA;EACA,sBAAA;EACA,aAAA;EACA,YAAA;EACA,gBAAA;ADwBhB;ACtBgB;EACI,kBAAA;EACA,aAAA;EACA,iBAAA;EACA,kBAAA;EACA,sBAAA;EACA,mBAAA;ADwBpB;ACtBoB;EACI,iCAAA;ADwBxB;ACtBoB;EACI,oCAAA;ADwBxB;AClBQ;EACI,yDAAA;ADoBZ;AChBQ;EACI,0DAAA;ADkBZ;ACbI;EACI,oBAAA;EACA,mBAAA;EACA,UAAA;EACA,mBAAA;EACA,sBAAA;ADeR;ACZI;EACI,gBAAA;EACA,sBAAA;EACA,0CAAA;EACA,wBAAA;EACA,kBAAA;ADcR;ACZQ;EACI,kBAAA;EACA,YAAA;EACA,cAAA;EACA,eAAA;EACA,cAAA;EACA,sBAAA;ADcZ;ACXQ;EACI,WAAA;EACA,kBAAA;EACA,MAAA;EACA,OAAA;EACA,QAAA;EACA,SAAA;EACA,6CAAA;ADaZ;ACVQ;EACI,aAAA;EACA,UAAA;EACA,mBAAA;EACA,sBAAA;EACA,kBAAA;EAEA,eAAA;ADWZ;ACRY;EACI,6BAAA;EACA,gCAAA;EACA,WAAA;EACA,gBAAA;EACA,iBAAA;EACA,aAAA;EACA,UAAA;EACA,mBAAA;EACA,sBAAA;EACA,eAAA;ADUhB;ACPgB;EACI;IACI,gCAAA;EDStB;AACF;ACJY;EACI,sDAAA;EACA,gCAAA;ADMhB;ACHY;EACI;IACI,sDAAA;IACA,gCAAA;EDKlB;AACF;ACDY;EACI,wDAAA;EACA,kCAAA;EF5OZ,WAAA;ACgPJ;ACQY;EACI,aAAA;ADNhB;ACSY;EACI,aAAA;EACA,iBAAA;ADPhB;ACUY;EACI,YAAA;EACA,+BAAA;EACA,2BAAA;EACA,+BAAA;EACA,qDAAA;EACA,gCAAA;EACA,kBAAA;EACA,WAAA;ADRhB;ACWY;EACI,aAAA;ADThB;ACYY;EACI,aAAA;EACA,kBAAA;EACA,kBAAA;ADVhB;ACWgB;EFvQZ,gCAAA;AC+PJ;ACgBY;EACI;IACI,mBAAA;EDdlB;AACF;ACiBY;EACI,mBAAA;ADfhB;ACkBY;EACI,aAAA;EACA,mBAAA;EACA,YAAA;EACA,4BAAA;EACA,kBAAA;EACA,6BAAA;ADhBhB;ACoBQ;EACI,aAAA;EACA,mBAAA;EACA,UAAA;EACA,mBAAA;EACA,oBAAA;ADlBZ;ACoBY;EACI,YAAA;EACA,aAAA;EACA,kBAAA;EACA,WAAA;EACA,6BAAA;EACA,YAAA;ADlBhB;ACqBY;EACI,YAAA;EACA,aAAA;EACA,kBAAA;EACA,WAAA;EACA,6BAAA;EACA,kBAAA;EACA,YAAA;ADnBhB;ACoBgB;EACI;IFxThB,gCAAA;ECuSF;AACF;ACkCY;EACI,aAAA;EACA,UAAA;EACA,iBAAA;EACA,mBAAA;ADhChB;ACoCQ;EACI,cAAA;EACA,kBAAA;EACA,sBAAA;EACA,wBAAA;EACA,yCAAA;EACA,aAAA;EACA,uBAAA;EACA,mBAAA;ADlCZ;ACoCY;EACI,cAAA;EACA,aAAA;EACA,sBAAA;EACA,uBAAA;EACA,mBAAA;ADlChB;ACqCY;EACI,kBAAA;EACA,kBAAA;ADnChB;ACsCY;EACI,gBAAA;ADpChB;ACyCI;EACI,sBAAA;EACA,gBAAA;EACA,aAAA;EACA,2BAAA;EACA,+BAAA;EACA,0BAAA;EACA,gDAAA;ADvCR;AC0CQ;EACI,sBAAA;EACA,gBAAA;EACA,iDAAA;ADxCZ;AC2CQ;EACI,yDAAA;EACA,mBAAA;ADzCZ;AC4CQ;EACI,sDAAA;EACA,mBAAA;AD1CZ;AC6CQ;EACI,wDAAA;EACA,qBAAA;EACA,sBAAA;AD3CZ;AC8CQ;EACI,uDAAA;EACA,qBAAA;EACA,sBAAA;AD5CZ;AC+CQ;EACI,kBAAA;EACA,sBAAA;EACA,aAAA;EACA,gBAAA;EACA,YAAA;AD7CZ;AC+CY;EACI,mBAAA;EACA,aAAA;EACA,iBAAA;EACA,kBAAA;EACA,sBAAA;EACA,kBAAA;EACA,cAAA;AD7ChB;AC+CgB;EACI,0BAAA;EACA,wBAAA;AD7CpB;AC+CgB;EACI,2BAAA;EACA,2BAAA;EACA,yBAAA;AD7CpB;ACkDQ;EACI,UAAA;ADhDZ;ACoDQ;EACI,aAAA;EACA,UAAA;EACA,mBAAA;EACA,eAAA;EACA,kBAAA;EACA,eAAA;EACA,sBAAA;EACA,mBAAA;ADlDZ;ACqDY;EACI,6DAAA;EACA,uCAAA;ADnDhB;ACsDY;EACI;IACI,6DAAA;IACA,uCAAA;EDpDlB;AACF;ACwDY;EACI,+DAAA;EACA,yCAAA;ADtDhB;AC0DY;EACI,aAAA;ADxDhB;AC2DY;EACI,aAAA;ADzDhB;AC4DY;EACI,aAAA;EACA,kBAAA;EACA,kBAAA;AD1DhB;AC2DgB;EFpeZ,gCAAA;AC4aJ;ACgEY;EACI;IACI,mBAAA;ED9DlB;AACF;ACiEY;EACI,mBAAA;AD/DhB;ACmEQ;EACI,aAAA;EACA,UAAA;EACA,mBAAA;ADjEZ;ACmEY;EAEI,sBAAA;EACA,kBAAA;EACA,qBAAA;ADlEhB;ACqEY;EAEI,mBAAA;EACA,oBAAA;ADpEhB;ACuEY;EACI,YAAA;EACA,aAAA;EACA,kBAAA;EACA,6BAAA;EACA,kBAAA;EACA,YAAA;ADrEhB;ACsEgB;EACI;IF7gBhB,gCAAA;EC0cF;AACF;AC0EgB;EACI,aAAA;EACA,mBAAA;EACA,YAAA;EACA,4BAAA;EACA,kBAAA;EACA,6BAAA;ADxEpB;ACsFI;EACI,2BAAA;EACA,+BAAA;ADpFR;ACsFQ;EACI,kBAAA;EACA,mBAAA;EACA,eAAA;EACA,kBAAA;ADpFZ;ACuFQ;EACI;IACI,gCAAA;EDrFd;AACF;ACwFQ;EACI,6CAAA;EACA,2CAAA;EACA,oCAAA;EACA,oDAAA;EACA,kBAAA;EACA,kBAAA;EACA,aAAA;EACA,eAAA;EACA,gBAAA;EACA,cAAA;EACA,YAAA;ADtFZ;AC2FQ;EACI,YAAA;ADzFZ;AC4FQ;EA7sBJ,OAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,kBAAA;ADonBJ;AC0FI;EAltBA,OAAA;EACA,MAAA;EACA,QAAA;EACA,SAAA;EACA,kBAAA;EAgtBI,aAAA;EACA,uBAAA;ADpFR;ACsFI;EACI,aAAA;EACA,mBAAA;ADpFR;AC2FI;EACI,gBAAA;EACA,mBAAA;EACA,2BAAA;EACA,+BAAA;ADzFR;AC4FI;EACI,gBAAA;EACA,mBAAA;EACA,2BAAA;EACA,+BAAA;AD1FR;AC6FI;EACI,kBAAA;EACA,aAAA;EACA,gBAAA;EACA,mBAAA;EACA,2BAAA;EACA,+BAAA;AD3FR;;AAEA,oCAAoC",sourceRoot:""}]);const s=a},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},795:t=>{t.exports=window.ReactDOM},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,i&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},848:t=>{t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o,i=function(){var t=document.currentScript;if(!t){for(var e=document.getElementsByTagName("script"),n=[],o=0;o<e.length;o++)n.push(e[o]);t=(n=n.filter((function(t){return!t.async&&!t.text&&!t.textContent}))).slice(-1)[0]}return t};if(Object.defineProperty(n,"p",{get:(o=i().src.split("/").slice(0,-1).join("/")+"/",function(){return o})}),"undefined"!=typeof jsonpScriptSrc){var r=jsonpScriptSrc;jsonpScriptSrc=function(t){var e,n=(e=i(),/\/_dash-component-suites\//.test(e.src)),o=r(t);if(!n)return o;var a=o.split("/"),s=a.slice(-1)[0].split(".");return s.splice(1,0,"v0_0_1m1740863071"),a.splice(-1,1,s.join(".")),a.join("/")}}n.nc=void 0;var a={};n.r(a),n.d(a,{DashDock:()=>Te,Tab:()=>ve});const s=window.React;var l,d,c=n.n(s),A=n(795),h=n(338);class u{static flip(t){return t===u.HORZ?u.VERT:u.HORZ}constructor(t){this._name=t}getName(){return this._name}toString(){return this._name}}u.HORZ=new u("horz"),u.VERT=new u("vert");class g{static empty(){return new g(0,0,0,0)}static fromJson(t){return new g(t.x,t.y,t.width,t.height)}constructor(t,e,n,o){this.x=t,this.y=e,this.width=n,this.height=o}toJson(){return{x:this.x,y:this.y,width:this.width,height:this.height}}snap(t){this.x=Math.round(this.x/t)*t,this.y=Math.round(this.y/t)*t,this.width=Math.round(this.width/t)*t,this.height=Math.round(this.height/t)*t}static getBoundingClientRect(t){let{x:e,y:n,width:o,height:i}=t.getBoundingClientRect();return new g(e,n,o,i)}static getContentRect(t){const e=t.getBoundingClientRect(),n=window.getComputedStyle(t),o=parseFloat(n.paddingLeft),i=parseFloat(n.paddingRight),r=parseFloat(n.paddingTop),a=parseFloat(n.paddingBottom),s=parseFloat(n.borderLeftWidth),l=parseFloat(n.borderRightWidth),d=parseFloat(n.borderTopWidth),c=parseFloat(n.borderBottomWidth),A=e.width-s-o-i-l,h=e.height-d-r-a-c;return new g(e.left+s+o,e.top+d+r,A,h)}static fromDomRect(t){return new g(t.x,t.y,t.width,t.height)}relativeTo(t){return new g(this.x-t.x,this.y-t.y,this.width,this.height)}clone(){return new g(this.x,this.y,this.width,this.height)}equals(t){return this.x===(null==t?void 0:t.x)&&this.y===(null==t?void 0:t.y)&&this.width===(null==t?void 0:t.width)&&this.height===(null==t?void 0:t.height)}equalSize(t){return this.width===(null==t?void 0:t.width)&&this.height===(null==t?void 0:t.height)}getBottom(){return this.y+this.height}getRight(){return this.x+this.width}getCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}positionElement(t,e){this.styleWithPosition(t.style,e)}styleWithPosition(t,e="absolute"){return t.left=this.x+"px",t.top=this.y+"px",t.width=Math.max(0,this.width)+"px",t.height=Math.max(0,this.height)+"px",t.position=e,t}contains(t,e){return this.x<=t&&t<=this.getRight()&&this.y<=e&&e<=this.getBottom()}removeInsets(t){return new g(this.x+t.left,this.y+t.top,Math.max(0,this.width-t.left-t.right),Math.max(0,this.height-t.top-t.bottom))}centerInRect(t){this.x=(t.width-this.width)/2,this.y=(t.height-this.height)/2}_getSize(t){let e=this.width;return t===u.VERT&&(e=this.height),e}toString(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}class b{static getByName(t){return b.values.get(t)}static getLocation(t,e,n){if(e=(e-t.x)/t.width,n=(n-t.y)/t.height,e>=.25&&e<.75&&n>=.25&&n<.75)return b.CENTER;const o=n>=1-e;return n>=e?o?b.BOTTOM:b.LEFT:o?b.RIGHT:b.TOP}constructor(t,e,n){this.name=t,this.orientation=e,this.indexPlus=n,b.values.set(this.name,this)}getName(){return this.name}getOrientation(){return this.orientation}getDockRect(t){return this===b.TOP?new g(t.x,t.y,t.width,t.height/2):this===b.BOTTOM?new g(t.x,t.getBottom()-t.height/2,t.width,t.height/2):this===b.LEFT?new g(t.x,t.y,t.width/2,t.height):this===b.RIGHT?new g(t.getRight()-t.width/2,t.y,t.width/2,t.height):t.clone()}split(t,e){return this===b.TOP?{start:new g(t.x,t.y,t.width,e),end:new g(t.x,t.y+e,t.width,t.height-e)}:this===b.LEFT?{start:new g(t.x,t.y,e,t.height),end:new g(t.x+e,t.y,t.width-e,t.height)}:this===b.RIGHT?{start:new g(t.getRight()-e,t.y,e,t.height),end:new g(t.x,t.y,t.width-e,t.height)}:{start:new g(t.x,t.getBottom()-e,t.width,e),end:new g(t.x,t.y,t.width,t.height-e)}}reflect(){return this===b.TOP?b.BOTTOM:this===b.LEFT?b.RIGHT:this===b.RIGHT?b.LEFT:b.TOP}toString(){return"(DockLocation: name="+this.name+", orientation="+this.orientation+")"}}b.values=new Map,b.TOP=new b("top",u.VERT,0),b.BOTTOM=new b("bottom",u.VERT,1),b.LEFT=new b("left",u.HORZ,0),b.RIGHT=new b("right",u.HORZ,1),b.CENTER=new b("center",u.VERT,0),function(t){t.Close_Tab="Close",t.Close_Tabset="Close tab set",t.Active_Tabset="Active tab set",t.Move_Tabset="Move tab set",t.Move_Tabs="Move tabs(?)",t.Maximize="Maximize tab set",t.Restore="Restore tab set",t.Popout_Tab="Popout selected tab",t.Overflow_Menu_Tooltip="Hidden tabs",t.Error_rendering_component="Error rendering component"}(l||(l={})),function(t){t.FLEXLAYOUT__BORDER="flexlayout__border",t.FLEXLAYOUT__BORDER_="flexlayout__border_",t.FLEXLAYOUT__BORDER_TAB_CONTENTS="flexlayout__border_tab_contents",t.FLEXLAYOUT__BORDER_BUTTON="flexlayout__border_button",t.FLEXLAYOUT__BORDER_BUTTON_="flexlayout__border_button_",t.FLEXLAYOUT__BORDER_BUTTON_CONTENT="flexlayout__border_button_content",t.FLEXLAYOUT__BORDER_BUTTON_LEADING="flexlayout__border_button_leading",t.FLEXLAYOUT__BORDER_BUTTON_TRAILING="flexlayout__border_button_trailing",t.FLEXLAYOUT__BORDER_BUTTON__SELECTED="flexlayout__border_button--selected",t.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED="flexlayout__border_button--unselected",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW="flexlayout__border_toolbar_button_overflow",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_="flexlayout__border_toolbar_button_overflow_",t.FLEXLAYOUT__BORDER_INNER="flexlayout__border_inner",t.FLEXLAYOUT__BORDER_INNER_="flexlayout__border_inner_",t.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER="flexlayout__border_inner_tab_container",t.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_="flexlayout__border_inner_tab_container_",t.FLEXLAYOUT__BORDER_TAB_DIVIDER="flexlayout__border_tab_divider",t.FLEXLAYOUT__BORDER_SIZER="flexlayout__border_sizer",t.FLEXLAYOUT__BORDER_TOOLBAR="flexlayout__border_toolbar",t.FLEXLAYOUT__BORDER_TOOLBAR_="flexlayout__border_toolbar_",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON="flexlayout__border_toolbar_button",t.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT="flexlayout__border_toolbar_button-float",t.FLEXLAYOUT__DRAG_RECT="flexlayout__drag_rect",t.FLEXLAYOUT__EDGE_RECT="flexlayout__edge_rect",t.FLEXLAYOUT__EDGE_RECT_TOP="flexlayout__edge_rect_top",t.FLEXLAYOUT__EDGE_RECT_LEFT="flexlayout__edge_rect_left",t.FLEXLAYOUT__EDGE_RECT_BOTTOM="flexlayout__edge_rect_bottom",t.FLEXLAYOUT__EDGE_RECT_RIGHT="flexlayout__edge_rect_right",t.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER="flexlayout__error_boundary_container",t.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT="flexlayout__error_boundary_content",t.FLEXLAYOUT__FLOATING_WINDOW_CONTENT="flexlayout__floating_window_content",t.FLEXLAYOUT__FLOATING_WINDOW_TAB="flexlayout__floating_window_tab",t.FLEXLAYOUT__LAYOUT="flexlayout__layout",t.FLEXLAYOUT__LAYOUT_MOVEABLES="flexlayout__layout_moveables",t.FLEXLAYOUT__LAYOUT_OVERLAY="flexlayout__layout_overlay",t.FLEXLAYOUT__LAYOUT_TAB_STAMPS="flexlayout__layout_tab_stamps",t.FLEXLAYOUT__LAYOUT_MAIN="flexlayout__layout_main",t.FLEXLAYOUT__LAYOUT_BORDER_CONTAINER="flexlayout__layout_border_container",t.FLEXLAYOUT__LAYOUT_BORDER_CONTAINER_INNER="flexlayout__layout_border_container_inner",t.FLEXLAYOUT__OUTLINE_RECT="flexlayout__outline_rect",t.FLEXLAYOUT__OUTLINE_RECT_EDGE="flexlayout__outline_rect_edge",t.FLEXLAYOUT__SPLITTER="flexlayout__splitter",t.FLEXLAYOUT__SPLITTER_EXTRA="flexlayout__splitter_extra",t.FLEXLAYOUT__SPLITTER_="flexlayout__splitter_",t.FLEXLAYOUT__SPLITTER_BORDER="flexlayout__splitter_border",t.FLEXLAYOUT__SPLITTER_DRAG="flexlayout__splitter_drag",t.FLEXLAYOUT__SPLITTER_HANDLE="flexlayout__splitter_handle",t.FLEXLAYOUT__SPLITTER_HANDLE_HORZ="flexlayout__splitter_handle_horz",t.FLEXLAYOUT__SPLITTER_HANDLE_VERT="flexlayout__splitter_handle_vert",t.FLEXLAYOUT__ROW="flexlayout__row",t.FLEXLAYOUT__TAB="flexlayout__tab",t.FLEXLAYOUT__TAB_POSITION="flexlayout__tab_position",t.FLEXLAYOUT__TAB_MOVEABLE="flexlayout__tab_moveable",t.FLEXLAYOUT__TAB_OVERLAY="flexlayout__tab_overlay",t.FLEXLAYOUT__TABSET="flexlayout__tabset",t.FLEXLAYOUT__TABSET_CONTAINER="flexlayout__tabset_container",t.FLEXLAYOUT__TABSET_HEADER="flexlayout__tabset_header",t.FLEXLAYOUT__TABSET_HEADER_SIZER="flexlayout__tabset_header_sizer",t.FLEXLAYOUT__TABSET_HEADER_CONTENT="flexlayout__tabset_header_content",t.FLEXLAYOUT__TABSET_MAXIMIZED="flexlayout__tabset-maximized",t.FLEXLAYOUT__TABSET_SELECTED="flexlayout__tabset-selected",t.FLEXLAYOUT__TABSET_SIZER="flexlayout__tabset_sizer",t.FLEXLAYOUT__TABSET_TAB_DIVIDER="flexlayout__tabset_tab_divider",t.FLEXLAYOUT__TABSET_CONTENT="flexlayout__tabset_content",t.FLEXLAYOUT__TABSET_TABBAR_INNER="flexlayout__tabset_tabbar_inner",t.FLEXLAYOUT__TABSET_TABBAR_INNER_="flexlayout__tabset_tabbar_inner_",t.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER="flexlayout__tabset_tabbar_inner_tab_container",t.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_="flexlayout__tabset_tabbar_inner_tab_container_",t.FLEXLAYOUT__TABSET_TABBAR_OUTER="flexlayout__tabset_tabbar_outer",t.FLEXLAYOUT__TABSET_TABBAR_OUTER_="flexlayout__tabset_tabbar_outer_",t.FLEXLAYOUT__TAB_BORDER="flexlayout__tab_border",t.FLEXLAYOUT__TAB_BORDER_="flexlayout__tab_border_",t.FLEXLAYOUT__TAB_BUTTON="flexlayout__tab_button",t.FLEXLAYOUT__TAB_BUTTON_STRETCH="flexlayout__tab_button_stretch",t.FLEXLAYOUT__TAB_BUTTON_CONTENT="flexlayout__tab_button_content",t.FLEXLAYOUT__TAB_BUTTON_LEADING="flexlayout__tab_button_leading",t.FLEXLAYOUT__TAB_BUTTON_OVERFLOW="flexlayout__tab_button_overflow",t.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT="flexlayout__tab_button_overflow_count",t.FLEXLAYOUT__TAB_BUTTON_TEXTBOX="flexlayout__tab_button_textbox",t.FLEXLAYOUT__TAB_BUTTON_TRAILING="flexlayout__tab_button_trailing",t.FLEXLAYOUT__TAB_BUTTON_STAMP="flexlayout__tab_button_stamp",t.FLEXLAYOUT__TAB_FLOATING="flexlayout__tab_floating",t.FLEXLAYOUT__TAB_FLOATING_INNER="flexlayout__tab_floating_inner",t.FLEXLAYOUT__TAB_TOOLBAR="flexlayout__tab_toolbar",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON="flexlayout__tab_toolbar_button",t.FLEXLAYOUT__TAB_TOOLBAR_ICON="flexlayout__tab_toolbar_icon",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_="flexlayout__tab_toolbar_button-",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT="flexlayout__tab_toolbar_button-float",t.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER="flexlayout__tab_toolbar_sticky_buttons_container",t.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE="flexlayout__tab_toolbar_button-close",t.FLEXLAYOUT__POPUP_MENU_CONTAINER="flexlayout__popup_menu_container",t.FLEXLAYOUT__POPUP_MENU_ITEM="flexlayout__popup_menu_item",t.FLEXLAYOUT__POPUP_MENU="flexlayout__popup_menu"}(d||(d={}));class p{constructor(t,e){this.type=t,this.data=e}}class E{static addNode(t,e,n,o,i){return new p(E.ADD_NODE,{json:t,toNode:e,location:n.getName(),index:o,select:i})}static moveNode(t,e,n,o,i){return new p(E.MOVE_NODE,{fromNode:t,toNode:e,location:n.getName(),index:o,select:i})}static deleteTab(t){return new p(E.DELETE_TAB,{node:t})}static deleteTabset(t){return new p(E.DELETE_TABSET,{node:t})}static renameTab(t,e){return new p(E.RENAME_TAB,{node:t,text:e})}static selectTab(t){return new p(E.SELECT_TAB,{tabNode:t})}static setActiveTabset(t,e){return new p(E.SET_ACTIVE_TABSET,{tabsetNode:t,windowId:e})}static adjustWeights(t,e){return new p(E.ADJUST_WEIGHTS,{nodeId:t,weights:e})}static adjustBorderSplit(t,e){return new p(E.ADJUST_BORDER_SPLIT,{node:t,pos:e})}static maximizeToggle(t,e){return new p(E.MAXIMIZE_TOGGLE,{node:t,windowId:e})}static updateModelAttributes(t){return new p(E.UPDATE_MODEL_ATTRIBUTES,{json:t})}static updateNodeAttributes(t,e){return new p(E.UPDATE_NODE_ATTRIBUTES,{node:t,json:e})}static popoutTab(t){return new p(E.POPOUT_TAB,{node:t})}static popoutTabset(t){return new p(E.POPOUT_TABSET,{node:t})}static closeWindow(t){return new p(E.CLOSE_WINDOW,{windowId:t})}static createWindow(t,e){return new p(E.CREATE_WINDOW,{layout:t,rect:e})}}E.ADD_NODE="FlexLayout_AddNode",E.MOVE_NODE="FlexLayout_MoveNode",E.DELETE_TAB="FlexLayout_DeleteTab",E.DELETE_TABSET="FlexLayout_DeleteTabset",E.RENAME_TAB="FlexLayout_RenameTab",E.SELECT_TAB="FlexLayout_SelectTab",E.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",E.ADJUST_WEIGHTS="FlexLayout_AdjustWeights",E.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit",E.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",E.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",E.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",E.POPOUT_TAB="FlexLayout_PopoutTab",E.POPOUT_TABSET="FlexLayout_PopoutTabset",E.CLOSE_WINDOW="FlexLayout_CloseWindow",E.CREATE_WINDOW="FlexLayout_CreateWindow";class f{constructor(t,e,n,o){this.name=t,this.alias=void 0,this.modelName=e,this.defaultValue=n,this.alwaysWriteJson=o,this.required=!1,this.fixed=!1,this.type="any"}setType(t){return this.type=t,this}setAlias(t){return this.alias=t,this}setDescription(t){this.description=t}setRequired(){return this.required=!0,this}setFixed(){return this.fixed=!0,this}setpairedAttr(t){this.pairedAttr=t}setPairedType(t){this.pairedType=t}}f.NUMBER="number",f.STRING="string",f.BOOLEAN="boolean";class _{constructor(){this.attributes=[],this.nameToAttribute=new Map}addWithAll(t,e,n,o){const i=new f(t,e,n,o);return this.attributes.push(i),this.nameToAttribute.set(t,i),i}addInherited(t,e){return this.addWithAll(t,e,void 0,!1)}add(t,e,n){return this.addWithAll(t,void 0,e,n)}getAttributes(){return this.attributes}getModelName(t){const e=this.nameToAttribute.get(t);if(void 0!==e)return e.modelName}toJson(t,e){for(const n of this.attributes){const o=e[n.name];(n.alwaysWriteJson||o!==n.defaultValue)&&(t[n.name]=o)}}fromJson(t,e){for(const n of this.attributes){let o=t[n.name];void 0===o&&n.alias&&(o=t[n.alias]),e[n.name]=void 0===o?n.defaultValue:o}}update(t,e){for(const n of this.attributes)if(t.hasOwnProperty(n.name)){const o=t[n.name];void 0===o?delete e[n.name]:e[n.name]=o}}setDefaults(t){for(const e of this.attributes)t[e.name]=e.defaultValue}pairAttributes(t,e){for(const n of e.attributes)if(n.modelName&&this.nameToAttribute.has(n.modelName)){const e=this.nameToAttribute.get(n.modelName);e.setpairedAttr(n),n.setpairedAttr(e),e.setPairedType(t)}}toTypescriptInterface(t,e){var n,o;const i=[],r=this.attributes.sort(((t,e)=>t.name.localeCompare(e.name)));i.push("export interface I"+t+"Attributes {");for(let t=0;t<r.length;t++){const a=r[t];let s,l,d=a.type,c=a;void 0!==c.defaultValue?s=c.defaultValue:void 0!==c.modelName&&void 0!==e&&void 0!==e.nameToAttribute.get(c.modelName)&&(l=c.modelName,c=e.nameToAttribute.get(l),s=c.defaultValue,d=c.type);let A=JSON.stringify(s);const h=c.required?"":"?";let u="\t/**\n\t  ";a.description?u+=a.description:a.pairedType&&(null===(n=a.pairedAttr)||void 0===n?void 0:n.description)&&(u+=`Value for ${a.pairedType} attribute ${a.pairedAttr.name} if not overridden`,u+="\n\n\t  ",u+=null===(o=a.pairedAttr)||void 0===o?void 0:o.description),u+="\n\n\t  ",a.fixed?u+=`Fixed value: ${A}`:u+=l?`Default: inherited from Global attribute ${a.modelName} (default ${A})`:`Default: ${A}`,u+="\n\t */",i.push(u),i.push("\t"+a.name+h+": "+d+";\n")}return i.push("}"),i.join("\n")}}class m{constructor(t,e,n,o,i){this.node=t,this.rect=e,this.location=n,this.index=o,this.className=i}}class C{static fromJson(t,e){const n=new C(e);n.borders=t.map((t=>F.fromJson(t,e)));for(const t of n.borders)n.borderMap.set(t.getLocation(),t);return n}constructor(t){this.borders=[],this.borderMap=new Map,this.layoutHorizontal=!0}toJson(){return this.borders.map((t=>t.toJson()))}getLayoutHorizontal(){return this.layoutHorizontal}getBorders(){return this.borders}getBorderMap(){return this.borderMap}forEachNode(t){for(const e of this.borders){t(e,0);for(const n of e.getChildren())n.forEachNode(t,1)}}setPaths(){for(const t of this.borders){const e="/border/"+t.getLocation().getName();t.setPath(e);let n=0;for(const o of t.getChildren())o.setPath(e+"/t"+n),n++}}findDropTargetNode(t,e,n){for(const o of this.borders)if(o.isShowing()){const i=o.canDrop(t,e,n);if(void 0!==i)return i}}}class T{constructor(t){this.model=t,this.attributes={},this.children=[],this.rect=g.empty(),this.listeners=new Map,this.path=""}getId(){let t=this.attributes.id;return void 0!==t||(t=this.model.nextUniqueId(),this.setId(t)),t}getModel(){return this.model}getType(){return this.attributes.type}getParent(){return this.parent}getChildren(){return this.children}getRect(){return this.rect}getPath(){return this.path}getOrientation(){return void 0===this.parent?this.model.isRootOrientationVertical()?u.VERT:u.HORZ:u.flip(this.parent.getOrientation())}setEventListener(t,e){this.listeners.set(t,e)}removeEventListener(t){this.listeners.delete(t)}setId(t){this.attributes.id=t}fireEvent(t,e){this.listeners.has(t)&&this.listeners.get(t)(e)}getAttr(t){let e=this.attributes[t];if(void 0===e){const n=this.getAttributeDefinitions().getModelName(t);void 0!==n&&(e=this.model.getAttribute(n))}return e}forEachNode(t,e){t(this,e),e++;for(const n of this.children)n.forEachNode(t,e)}setPaths(t){let e=0;for(const n of this.children){let o=t;"row"===n.getType()?n.getOrientation()===u.VERT?o+="/c"+e:o+="/r"+e:"tabset"===n.getType()?o+="/ts"+e:"tab"===n.getType()&&(o+="/t"+e),n.path=o,n.setPaths(o),e++}}setParent(t){this.parent=t}setRect(t){this.rect=t}setPath(t){this.path=t}setWeight(t){this.attributes.weight=t}setSelected(t){this.attributes.selected=t}findDropTargetNode(t,e,n,o){let i;if(this.rect.contains(n,o))if(void 0!==this.model.getMaximizedTabset(t))i=this.model.getMaximizedTabset(t).canDrop(e,n,o);else if(i=this.canDrop(e,n,o),void 0===i&&0!==this.children.length)for(const r of this.children)if(i=r.findDropTargetNode(t,e,n,o),void 0!==i)break;return i}canDrop(t,e,n){}canDockInto(t,e){if(null!=e){if(e.location===b.CENTER&&!1===e.node.isEnableDrop())return!1;if(e.location===b.CENTER&&"tabset"===t.getType()&&void 0!==t.getName())return!1;if(e.location!==b.CENTER&&!1===e.node.isEnableDivide())return!1;if(this.model.getOnAllowDrop())return this.model.getOnAllowDrop()(t,e)}return!0}removeChild(t){const e=this.children.indexOf(t);return-1!==e&&this.children.splice(e,1),e}addChild(t,e){return null!=e?this.children.splice(e,0,t):(this.children.push(t),e=this.children.length-1),t.parent=this,e}removeAll(){this.children=[]}styleWithPosition(t){return null==t&&(t={}),this.rect.styleWithPosition(t)}isEnableDivide(){return!0}toAttributeString(){return JSON.stringify(this.attributes,void 0,"\t")}}class v extends T{static fromJson(t,e,n=!0){return new v(e,t,n)}constructor(t,e,n=!0){super(t),this.tabRect=g.empty(),this.extra={},this.moveableElement=null,this.tabStamp=null,this.rendered=!1,this.visible=!1,v.attributeDefinitions.fromJson(e,this.attributes),!0===n&&t.addNode(this)}getName(){return this.getAttr("name")}getHelpText(){return this.getAttr("helpText")}getComponent(){return this.getAttr("component")}getWindowId(){return this.parent instanceof I?this.parent.getWindowId():W.MAIN_WINDOW_ID}getWindow(){const t=this.model.getwindowsMap().get(this.getWindowId());if(t)return t.window}getConfig(){return this.attributes.config}getExtraData(){return this.extra}isPoppedOut(){return this.getWindowId()!==W.MAIN_WINDOW_ID}isSelected(){return this.getParent().getSelectedNode()===this}getIcon(){return this.getAttr("icon")}isEnableClose(){return this.getAttr("enableClose")}getCloseType(){return this.getAttr("closeType")}isEnablePopout(){return this.getAttr("enablePopout")}isEnablePopoutIcon(){return this.getAttr("enablePopoutIcon")}isEnablePopoutOverlay(){return this.getAttr("enablePopoutOverlay")}isEnableDrag(){return this.getAttr("enableDrag")}isEnableRename(){return this.getAttr("enableRename")}isEnableWindowReMount(){return this.getAttr("enableWindowReMount")}getClassName(){return this.getAttr("className")}getContentClassName(){return this.getAttr("contentClassName")}getTabSetClassName(){return this.getAttr("tabsetClassName")}isEnableRenderOnDemand(){return this.getAttr("enableRenderOnDemand")}getMinWidth(){return this.getAttr("minWidth")}getMinHeight(){return this.getAttr("minHeight")}getMaxWidth(){return this.getAttr("maxWidth")}getMaxHeight(){return this.getAttr("maxHeight")}toJson(){const t={};return v.attributeDefinitions.toJson(t,this.attributes),t}saveScrollPosition(){this.moveableElement&&(this.scrollLeft=this.moveableElement.scrollLeft,this.scrollTop=this.moveableElement.scrollTop)}restoreScrollPosition(){this.scrollTop&&requestAnimationFrame((()=>{this.moveableElement&&this.scrollTop&&(this.moveableElement.scrollTop=this.scrollTop,this.moveableElement.scrollLeft=this.scrollLeft)}))}setRect(t){t.equals(this.rect)||(this.fireEvent("resize",{rect:t}),this.rect=t)}setVisible(t){t!==this.visible&&(this.fireEvent("visibility",{visible:t}),this.visible=t)}getScrollTop(){return this.scrollTop}setScrollTop(t){this.scrollTop=t}getScrollLeft(){return this.scrollLeft}setScrollLeft(t){this.scrollLeft=t}isRendered(){return this.rendered}setRendered(t){this.rendered=t}getTabRect(){return this.tabRect}setTabRect(t){this.tabRect=t}getTabStamp(){return this.tabStamp}setTabStamp(t){this.tabStamp=t}getMoveableElement(){return this.moveableElement}setMoveableElement(t){this.moveableElement=t}setRenderedName(t){this.renderedName=t}getNameForOverflowMenu(){const t=this.getAttr("altName");return void 0!==t?t:this.renderedName}setName(t){this.attributes.name=t}delete(){this.parent.remove(this),this.fireEvent("close",{})}updateAttrs(t){v.attributeDefinitions.update(t,this.attributes)}getAttributeDefinitions(){return v.attributeDefinitions}setBorderWidth(t){this.attributes.borderWidth=t}setBorderHeight(t){this.attributes.borderHeight=t}static getAttributeDefinitions(){return v.attributeDefinitions}static createAttributeDefinitions(){const t=new _;return t.add("type",v.TYPE,!0).setType(f.STRING).setFixed(),t.add("id",void 0).setType(f.STRING).setDescription("the unique id of the tab, if left undefined a uuid will be assigned"),t.add("name","[Unnamed Tab]").setType(f.STRING).setDescription("name of tab to be displayed in the tab button"),t.add("altName",void 0).setType(f.STRING).setDescription("if there is no name specifed then this value will be used in the overflow menu"),t.add("helpText",void 0).setType(f.STRING).setDescription("An optional help text for the tab to be displayed upon tab hover."),t.add("component",void 0).setType(f.STRING).setDescription("string identifying which component to run (for factory)"),t.add("config",void 0).setType("any").setDescription("a place to hold json config for the hosted component"),t.add("tabsetClassName",void 0).setType(f.STRING).setDescription("class applied to parent tabset when this is the only tab and it is stretched to fill the tabset"),t.add("enableWindowReMount",!1).setType(f.BOOLEAN).setDescription("if enabled the tab will re-mount when popped out/in"),t.addInherited("enableClose","tabEnableClose").setType(f.BOOLEAN).setDescription("allow user to close tab via close button"),t.addInherited("closeType","tabCloseType").setType("ICloseType").setDescription("see values in ICloseType"),t.addInherited("enableDrag","tabEnableDrag").setType(f.BOOLEAN).setDescription("allow user to drag tab to new location"),t.addInherited("enableRename","tabEnableRename").setType(f.BOOLEAN).setDescription("allow user to rename tabs by double clicking"),t.addInherited("className","tabClassName").setType(f.STRING).setDescription("class applied to tab button"),t.addInherited("contentClassName","tabContentClassName").setType(f.STRING).setDescription("class applied to tab content"),t.addInherited("icon","tabIcon").setType(f.STRING).setDescription("the tab icon"),t.addInherited("enableRenderOnDemand","tabEnableRenderOnDemand").setType(f.BOOLEAN).setDescription("whether to avoid rendering component until tab is visible"),t.addInherited("enablePopout","tabEnablePopout").setType(f.BOOLEAN).setAlias("enableFloat").setDescription("enable popout (in popout capable browser)"),t.addInherited("enablePopoutIcon","tabEnablePopoutIcon").setType(f.BOOLEAN).setDescription("whether to show the popout icon in the tabset header if this tab enables popouts"),t.addInherited("enablePopoutOverlay","tabEnablePopoutOverlay").setType(f.BOOLEAN).setDescription("if this tab will not work correctly in a popout window when the main window is backgrounded (inactive)\n            then enabling this option will gray out this tab"),t.addInherited("borderWidth","tabBorderWidth").setType(f.NUMBER).setDescription("width when added to border, -1 will use border size"),t.addInherited("borderHeight","tabBorderHeight").setType(f.NUMBER).setDescription("height when added to border, -1 will use border size"),t.addInherited("minWidth","tabMinWidth").setType(f.NUMBER).setDescription("the min width of this tab"),t.addInherited("minHeight","tabMinHeight").setType(f.NUMBER).setDescription("the min height of this tab"),t.addInherited("maxWidth","tabMaxWidth").setType(f.NUMBER).setDescription("the max width of this tab"),t.addInherited("maxHeight","tabMaxHeight").setType(f.NUMBER).setDescription("the max height of this tab"),t}}function y(){return"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches}function x(t,e,n){let o,i=e.getName(),r=e.getName();void 0===n&&(n=0),void 0===o&&void 0!==e.getIcon()&&(o=0!==n?s.createElement("img",{style:{width:"1em",height:"1em",transform:"rotate("+n+"deg)"},src:e.getIcon(),alt:"leadingContent"}):s.createElement("img",{style:{width:"1em",height:"1em"},src:e.getIcon(),alt:"leadingContent"}));const a={leading:o,content:i,name:r,buttons:[]};return t.customizeTab(e,a),e.setRenderedName(a.name),a}function w(t){let e=!1;return t.nativeEvent instanceof MouseEvent&&(0!==t.nativeEvent.button||t.ctrlKey||t.altKey||t.metaKey||t.shiftKey)&&(e=!0),e}function D(t,e){const n=[...O("iframe",e),...O("webview",e)];for(const e of n)e.style.pointerEvents=t?"auto":"none"}function O(t,e){return[...e.getElementsByTagName(t)]}function B(t){if(t instanceof v)return t.isEnablePopout();if(t instanceof I){for(const e of t.getChildren())if(!1===e.isEnablePopout())return!1;return!0}return!1}function R(t,e){const n=t.getAttribute("style");return n!==e.getAttribute("style")&&(n?e.setAttribute("style",n):e.removeAttribute("style"),!0)}function L(t,e){if(void 0!==t&&(t instanceof I||t instanceof F)){const n=t.getSelected();-1!==n&&(e===n&&t.getChildren().length>0?e>=t.getChildren().length&&t.setSelected(t.getChildren().length-1):e<n?t.setSelected(n-1):e>n||t.setSelected(-1))}}function N(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}v.TYPE="tab",v.attributeDefinitions=v.createAttributeDefinitions();class I extends T{static fromJson(t,e,n){const o=new I(e,t);if(null!=t.children)for(const n of t.children){const t=v.fromJson(n,e);o.addChild(t)}return 0===o.children.length&&o.setSelected(-1),t.maximized&&!0===t.maximized&&(n.maximizedTabSet=o),t.active&&!0===t.active&&(n.activeTabSet=o),o}constructor(t,e){super(t),this.tabStripRect=g.empty(),this.contentRect=g.empty(),this.calculatedMinHeight=0,this.calculatedMinWidth=0,this.calculatedMaxHeight=0,this.calculatedMaxWidth=0,I.attributeDefinitions.fromJson(e,this.attributes),t.addNode(this)}getName(){return this.getAttr("name")}isEnableActiveIcon(){return this.getAttr("enableActiveIcon")}getSelected(){const t=this.attributes.selected;return void 0!==t?t:-1}getSelectedNode(){const t=this.getSelected();if(-1!==t)return this.children[t]}getWeight(){return this.getAttr("weight")}getAttrMinWidth(){return this.getAttr("minWidth")}getAttrMinHeight(){return this.getAttr("minHeight")}getMinWidth(){return this.calculatedMinWidth}getMinHeight(){return this.calculatedMinHeight}getMinSize(t){return t===u.HORZ?this.getMinWidth():this.getMinHeight()}getAttrMaxWidth(){return this.getAttr("maxWidth")}getAttrMaxHeight(){return this.getAttr("maxHeight")}getMaxWidth(){return this.calculatedMaxWidth}getMaxHeight(){return this.calculatedMaxHeight}getMaxSize(t){return t===u.HORZ?this.getMaxWidth():this.getMaxHeight()}getConfig(){return this.attributes.config}isMaximized(){return this.model.getMaximizedTabset(this.getWindowId())===this}isActive(){return this.model.getActiveTabset(this.getWindowId())===this}isEnableDeleteWhenEmpty(){return this.getAttr("enableDeleteWhenEmpty")}isEnableDrop(){return this.getAttr("enableDrop")}isEnableTabWrap(){return this.getAttr("enableTabWrap")}isEnableDrag(){return this.getAttr("enableDrag")}isEnableDivide(){return this.getAttr("enableDivide")}isEnableMaximize(){return this.getAttr("enableMaximize")}isEnableClose(){return this.getAttr("enableClose")}isEnableSingleTabStretch(){return this.getAttr("enableSingleTabStretch")}isEnableTabStrip(){return this.getAttr("enableTabStrip")}isAutoSelectTab(){return this.getAttr("autoSelectTab")}getClassNameTabStrip(){return this.getAttr("classNameTabStrip")}getTabLocation(){return this.getAttr("tabLocation")}toJson(){const t={};return I.attributeDefinitions.toJson(t,this.attributes),t.children=this.children.map((t=>t.toJson())),this.isActive()&&(t.active=!0),this.isMaximized()&&(t.maximized=!0),t}calcMinMaxSize(){this.calculatedMinHeight=this.getAttrMinHeight(),this.calculatedMinWidth=this.getAttrMinWidth(),this.calculatedMaxHeight=this.getAttrMaxHeight(),this.calculatedMaxWidth=this.getAttrMaxWidth();for(const t of this.children){const e=t;this.calculatedMinWidth=Math.max(this.calculatedMinWidth,e.getMinWidth()),this.calculatedMinHeight=Math.max(this.calculatedMinHeight,e.getMinHeight()),this.calculatedMaxWidth=Math.min(this.calculatedMaxWidth,e.getMaxWidth()),this.calculatedMaxHeight=Math.min(this.calculatedMaxHeight,e.getMaxHeight())}this.calculatedMinHeight+=this.tabStripRect.height,this.calculatedMaxHeight+=this.tabStripRect.height}canMaximize(){return!!this.isEnableMaximize()&&(this.getModel().getMaximizedTabset(this.getWindowId())===this||this.getParent()!==this.getModel().getRoot(this.getWindowId())||1!==this.getModel().getRoot(this.getWindowId()).getChildren().length)}setContentRect(t){this.contentRect=t}getContentRect(){return this.contentRect}setTabStripRect(t){this.tabStripRect=t}setWeight(t){this.attributes.weight=t}setSelected(t){this.attributes.selected=t}getWindowId(){return this.parent.getWindowId()}canDrop(t,e,n){let o;if(t===this){const t=b.CENTER,e=this.tabStripRect;o=new m(this,e,t,-1,d.FLEXLAYOUT__OUTLINE_RECT)}else{if(this.getWindowId()!==W.MAIN_WINDOW_ID&&!B(t))return;if(this.contentRect.contains(e,n)){let t=b.CENTER;void 0===this.model.getMaximizedTabset(this.parent.getWindowId())&&(t=b.getLocation(this.contentRect,e,n));const i=t.getDockRect(this.rect);o=new m(this,i,t,-1,d.FLEXLAYOUT__OUTLINE_RECT)}else if(null!=this.tabStripRect&&this.tabStripRect.contains(e,n)){let t,i,r;if(0===this.children.length)t=this.tabStripRect.clone(),i=t.y+3,r=t.height-4,t.width=2;else{let a=this.children[0];t=a.getTabRect(),i=t.y,r=t.height;let s=this.tabStripRect.x,l=0;for(let r=0;r<this.children.length;r++){if(a=this.children[r],t=a.getTabRect(),t.y!==i&&(i=t.y,s=this.tabStripRect.x),l=t.x+t.width/2,e>=s&&e<l&&n>t.y&&n<t.getBottom()){const e=b.CENTER,n=new g(t.x-2,t.y,3,t.height);o=new m(this,n,e,r,d.FLEXLAYOUT__OUTLINE_RECT);break}s=l}}if(null==o){const e=b.CENTER,n=new g(t.getRight()-2,i,3,r);o=new m(this,n,e,this.children.length,d.FLEXLAYOUT__OUTLINE_RECT)}}}if(t.canDockInto(t,o))return o}delete(){this.parent.removeChild(this)}remove(t){const e=this.removeChild(t);this.model.tidy(),L(this,e)}drop(t,e,n,o){const i=e;if(this===t)return;let r=t.getParent(),a=0;if(void 0!==r&&(a=r.removeChild(t),r instanceof F&&r.getSelected()===a?r.setSelected(-1):L(r,a)),t instanceof v&&r===this&&a<n&&n>0&&n--,i===b.CENTER){let e=n;if(-1===e&&(e=this.children.length),t instanceof v)this.addChild(t,e),(o||!1!==o&&this.isAutoSelectTab())&&this.setSelected(e);else if(t instanceof k)t.forEachNode(((t,n)=>{t instanceof v&&(this.addChild(t,e),e++)}),0);else{for(let n=0;n<t.getChildren().length;n++){const o=t.getChildren()[n];this.addChild(o,e),e++}-1===this.getSelected()&&this.children.length>0&&this.setSelected(0)}this.model.setActiveTabset(this,this.parent.getWindowId())}else{let n=t;if(t instanceof v){const e=this.model.getOnCreateTabSet();n=new I(this.model,e?e(t):{}),n.addChild(t),r=n}else if(t instanceof k){const o=this.getParent();if(t.getOrientation()===o.getOrientation()&&(e.getOrientation()===o.getOrientation()||e===b.CENTER)){const e=new k(this.model,this.getWindowId(),{});e.addChild(t),n=e}}else n=t;const o=this.parent,a=o.getChildren().indexOf(this);if(o.getOrientation()===i.orientation)n.setWeight(this.getWeight()/2),this.setWeight(this.getWeight()/2),o.addChild(n,a+i.indexPlus);else{const t=new k(this.model,this.getWindowId(),{});t.setWeight(this.getWeight()),t.addChild(this),this.setWeight(50),n.setWeight(50),t.addChild(n,i.indexPlus),o.removeChild(this),o.addChild(t,a)}n instanceof I&&this.model.setActiveTabset(n,this.getWindowId())}this.model.tidy()}updateAttrs(t){I.attributeDefinitions.update(t,this.attributes)}getAttributeDefinitions(){return I.attributeDefinitions}static getAttributeDefinitions(){return I.attributeDefinitions}static createAttributeDefinitions(){const t=new _;return t.add("type",I.TYPE,!0).setType(f.STRING).setFixed(),t.add("id",void 0).setType(f.STRING).setDescription("the unique id of the tab set, if left undefined a uuid will be assigned"),t.add("weight",100).setType(f.NUMBER).setDescription("relative weight for sizing of this tabset in parent row"),t.add("selected",0).setType(f.NUMBER).setDescription("index of selected/visible tab in tabset"),t.add("name",void 0).setType(f.STRING),t.add("config",void 0).setType("any").setDescription("a place to hold json config used in your own code"),t.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty").setDescription("whether to delete this tabset when is has no tabs"),t.addInherited("enableDrop","tabSetEnableDrop").setDescription("allow user to drag tabs into this tabset"),t.addInherited("enableDrag","tabSetEnableDrag").setDescription("allow user to drag tabs out this tabset"),t.addInherited("enableDivide","tabSetEnableDivide").setDescription("allow user to drag tabs to region of this tabset, splitting into new tabset"),t.addInherited("enableMaximize","tabSetEnableMaximize").setDescription("allow user to maximize tabset to fill view via maximize button"),t.addInherited("enableClose","tabSetEnableClose").setDescription("allow user to close tabset via a close button"),t.addInherited("enableSingleTabStretch","tabSetEnableSingleTabStretch").setDescription("if the tabset has only a single tab then stretch the single tab to fill area and display in a header style"),t.addInherited("classNameTabStrip","tabSetClassNameTabStrip").setDescription("a class name to apply to the tab strip"),t.addInherited("enableTabStrip","tabSetEnableTabStrip").setDescription("enable tab strip and allow multiple tabs in this tabset"),t.addInherited("minWidth","tabSetMinWidth").setDescription("minimum width (in px) for this tabset"),t.addInherited("minHeight","tabSetMinHeight").setDescription("minimum height (in px) for this tabset"),t.addInherited("maxWidth","tabSetMaxWidth").setDescription("maximum width (in px) for this tabset"),t.addInherited("maxHeight","tabSetMaxHeight").setDescription("maximum height (in px) for this tabset"),t.addInherited("enableTabWrap","tabSetEnableTabWrap").setDescription("wrap tabs onto multiple lines"),t.addInherited("tabLocation","tabSetTabLocation").setDescription("the location of the tabs either top or bottom"),t.addInherited("autoSelectTab","tabSetAutoSelectTab").setType(f.BOOLEAN).setDescription("whether to select new/moved tabs in tabset"),t.addInherited("enableActiveIcon","tabSetEnableActiveIcon").setType(f.BOOLEAN).setDescription("whether the active icon (*) should be displayed when the tabset is active"),t}}I.TYPE="tabset",I.attributeDefinitions=I.createAttributeDefinitions();class k extends T{static fromJson(t,e,n){const o=new k(e,n.windowId,t);if(null!=t.children)for(const i of t.children)if(i.type===I.TYPE){const t=I.fromJson(i,e,n);o.addChild(t)}else{const t=k.fromJson(i,e,n);o.addChild(t)}return o}constructor(t,e,n){super(t),this.windowId=e,this.minHeight=M,this.minWidth=M,this.maxHeight=U,this.maxWidth=U,k.attributeDefinitions.fromJson(n,this.attributes),this.normalizeWeights(),t.addNode(this)}getWeight(){return this.attributes.weight}toJson(){const t={};k.attributeDefinitions.toJson(t,this.attributes),t.children=[];for(const e of this.children)t.children.push(e.toJson());return t}getWindowId(){return this.windowId}setWindowId(t){this.windowId=t}setWeight(t){this.attributes.weight=t}getSplitterBounds(t){const e=this.getOrientation()===u.HORZ,n=this.getChildren(),o=this.model.getSplitterSize(),i=n[0].getRect(),r=n[n.length-1].getRect();let a=e?[i.x,r.getRight()]:[i.y,r.getBottom()];const s=e?[i.x,r.getRight()]:[i.y,r.getBottom()];for(let i=0;i<t;i++){const t=n[i];a[0]+=e?t.getMinWidth():t.getMinHeight(),s[0]+=e?t.getMaxWidth():t.getMaxHeight(),i>0&&(a[0]+=o,s[0]+=o)}for(let i=n.length-1;i>=t;i--){const t=n[i];a[1]-=(e?t.getMinWidth():t.getMinHeight())+o,s[1]-=(e?t.getMaxWidth():t.getMaxHeight())+o}return a=[Math.max(s[1],a[0]),Math.min(s[0],a[1])],a}getSplitterInitials(t){const e=this.getOrientation()===u.HORZ,n=this.getChildren(),o=this.model.getSplitterSize(),i=[];let r=0;for(let t=0;t<n.length;t++){const o=n[t].getRect(),a=e?o.width:o.height;i.push(a),r+=a}const a=n[t].getRect();return{initialSizes:i,sum:r,startPosition:(e?a.x:a.y)-o}}calculateSplit(t,e,n,o,i){const r=this.getOrientation()===u.HORZ,a=this.getChildren(),s=a[t],l=r?s.getMaxWidth():s.getMaxHeight(),d=[...n];if(e<i){let n=i-e,o=0;d[t]+n>l?(o=d[t]+n-l,d[t]=l):d[t]+=n;for(let e=t-1;e>=0;e--){const t=a[e],o=r?t.getMinWidth():t.getMinHeight();if(d[e]-n>o){d[e]-=n;break}n-=d[e]-o,d[e]=o}for(let e=t+1;e<a.length;e++){const t=a[e],n=r?t.getMaxWidth():t.getMaxHeight();if(d[e]+o<n){d[e]+=o;break}o-=n-d[e],d[e]=n}}else{let n=e-i,o=0;d[t-1]+n>l?(o=d[t-1]+n-l,d[t-1]=l):d[t-1]+=n;for(let e=t;e<a.length;e++){const t=a[e],o=r?t.getMinWidth():t.getMinHeight();if(d[e]-n>o){d[e]-=n;break}n-=d[e]-o,d[e]=o}for(let e=t-1;e>=0;e--){const t=a[e],n=r?t.getMaxWidth():t.getMaxHeight();if(d[e]+o<n){d[e]+=o;break}o-=n-d[e],d[e]=n}}return d.map((t=>100*Math.max(.1,t)/o))}getMinSize(t){return t===u.HORZ?this.getMinWidth():this.getMinHeight()}getMinWidth(){return this.minWidth}getMinHeight(){return this.minHeight}getMaxSize(t){return t===u.HORZ?this.getMaxWidth():this.getMaxHeight()}getMaxWidth(){return this.maxWidth}getMaxHeight(){return this.maxHeight}calcMinMaxSize(){this.minHeight=M,this.minWidth=M,this.maxHeight=U,this.maxWidth=U;let t=!0;for(const e of this.children){const n=e;n.calcMinMaxSize(),this.getOrientation()===u.VERT?(this.minHeight+=n.getMinHeight(),this.maxHeight+=n.getMaxHeight(),t||(this.minHeight+=this.model.getSplitterSize(),this.maxHeight+=this.model.getSplitterSize()),this.minWidth=Math.max(this.minWidth,n.getMinWidth()),this.maxWidth=Math.min(this.maxWidth,n.getMaxWidth())):(this.minWidth+=n.getMinWidth(),this.maxWidth+=n.getMaxWidth(),t||(this.minWidth+=this.model.getSplitterSize(),this.maxWidth+=this.model.getSplitterSize()),this.minHeight=Math.max(this.minHeight,n.getMinHeight()),this.maxHeight=Math.min(this.maxHeight,n.getMaxHeight())),t=!1}}tidy(){let t=0;for(;t<this.children.length;){const e=this.children[t];if(e instanceof k){e.tidy();const n=e.getChildren();if(0===n.length)this.removeChild(e);else if(1===n.length){const o=n[0];if(this.removeChild(e),o instanceof k){let n=0;const i=o.getChildren();for(const t of i)n+=t.getWeight();for(let o=0;o<i.length;o++){const r=i[o];r.setWeight(e.getWeight()*r.getWeight()/n),this.addChild(r,t+o)}}else o.setWeight(e.getWeight()),this.addChild(o,t)}else t++}else e instanceof I&&0===e.getChildren().length&&e.isEnableDeleteWhenEmpty()?(this.removeChild(e),e===this.model.getMaximizedTabset(this.windowId)&&this.model.setMaximizedTabset(void 0,this.windowId)):t++}if(this===this.model.getRoot(this.windowId)&&0===this.children.length){const t=this.model.getOnCreateTabSet();let e=t?t():{};e=Object.assign(Object.assign({},e),{selected:-1});const n=new I(this.model,e);this.model.setActiveTabset(n,this.windowId),this.addChild(n)}}canDrop(t,e,n){const o=n-this.rect.y,i=e-this.rect.x,r=this.rect.width,a=this.rect.height,s=50;let l;if(this.getWindowId()===W.MAIN_WINDOW_ID||B(t)){if(this.model.isEnableEdgeDock()&&void 0===this.parent){if(e<this.rect.x+10&&o>a/2-s&&o<a/2+s){const t=b.LEFT,e=t.getDockRect(this.rect);e.width=e.width/2,l=new m(this,e,t,-1,d.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(e>this.rect.getRight()-10&&o>a/2-s&&o<a/2+s){const t=b.RIGHT,e=t.getDockRect(this.rect);e.width=e.width/2,e.x+=e.width,l=new m(this,e,t,-1,d.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(n<this.rect.y+10&&i>r/2-s&&i<r/2+s){const t=b.TOP,e=t.getDockRect(this.rect);e.height=e.height/2,l=new m(this,e,t,-1,d.FLEXLAYOUT__OUTLINE_RECT_EDGE)}else if(n>this.rect.getBottom()-10&&i>r/2-s&&i<r/2+s){const t=b.BOTTOM,e=t.getDockRect(this.rect);e.height=e.height/2,e.y+=e.height,l=new m(this,e,t,-1,d.FLEXLAYOUT__OUTLINE_RECT_EDGE)}if(void 0!==l&&!t.canDockInto(t,l))return}return l}}drop(t,e,n){const o=e,i=t.getParent();let r;if(i&&i.removeChild(t),void 0!==i&&i instanceof I&&i.setSelected(0),void 0!==i&&i instanceof F&&i.setSelected(-1),t instanceof I||t instanceof k)r=t,r instanceof k&&r.getOrientation()===this.getOrientation()&&(e.getOrientation()===this.getOrientation()||e===b.CENTER)&&(r=new k(this.model,this.windowId,{}),r.addChild(t));else{const e=this.model.getOnCreateTabSet();r=new I(this.model,e?e(t):{}),r.addChild(t)}let a=this.children.reduce(((t,e)=>t+e.getWeight()),0);0===a&&(a=100),r.setWeight(a/3);const s=!this.model.isRootOrientationVertical();if(o===b.CENTER)-1===n?this.addChild(r,this.children.length):this.addChild(r,n);else if(s&&o===b.LEFT||!s&&o===b.TOP)this.addChild(r,0);else if(s&&o===b.RIGHT||!s&&o===b.BOTTOM)this.addChild(r);else if(s&&o===b.TOP||!s&&o===b.LEFT){const t=new k(this.model,this.windowId,{}),e=new k(this.model,this.windowId,{});e.setWeight(75),r.setWeight(25);for(const t of this.children)e.addChild(t);this.removeAll(),t.addChild(r),t.addChild(e),this.addChild(t)}else if(s&&o===b.BOTTOM||!s&&o===b.RIGHT){const t=new k(this.model,this.windowId,{}),e=new k(this.model,this.windowId,{});e.setWeight(75),r.setWeight(25);for(const t of this.children)e.addChild(t);this.removeAll(),t.addChild(e),t.addChild(r),this.addChild(t)}r instanceof I&&this.model.setActiveTabset(r,this.windowId),this.model.tidy()}isEnableDrop(){return!0}getAttributeDefinitions(){return k.attributeDefinitions}updateAttrs(t){k.attributeDefinitions.update(t,this.attributes)}static getAttributeDefinitions(){return k.attributeDefinitions}normalizeWeights(){let t=0;for(const e of this.children)t+=e.getWeight();0===t&&(t=1);for(const e of this.children){const n=e;n.setWeight(Math.max(.001,100*n.getWeight()/t))}}static createAttributeDefinitions(){const t=new _;return t.add("type",k.TYPE,!0).setType(f.STRING).setFixed(),t.add("id",void 0).setType(f.STRING).setDescription("the unique id of the row, if left undefined a uuid will be assigned"),t.add("weight",100).setType(f.NUMBER).setDescription("relative weight for sizing of this row in parent row"),t}}k.TYPE="row",k.attributeDefinitions=k.createAttributeDefinitions();class S{constructor(t,e){this._windowId=t,this._rect=e,this._toScreenRectFunction=t=>t}visitNodes(t){this.root.forEachNode(t,0)}get windowId(){return this._windowId}get rect(){return this._rect}get layout(){return this._layout}get window(){return this._window}get root(){return this._root}get maximizedTabSet(){return this._maximizedTabSet}get activeTabSet(){return this._activeTabSet}set rect(t){this._rect=t}set layout(t){this._layout=t}set window(t){this._window=t}set root(t){this._root=t}set maximizedTabSet(t){this._maximizedTabSet=t}set activeTabSet(t){this._activeTabSet=t}get toScreenRectFunction(){return this._toScreenRectFunction}set toScreenRectFunction(t){this._toScreenRectFunction=t}toJson(){return this._window&&this._window.screenTop>-1e4&&(this.rect=new g(this._window.screenLeft,this._window.screenTop,this._window.outerWidth,this._window.outerHeight)),{layout:this.root.toJson(),rect:this.rect.toJson()}}static fromJson(t,e,n){const o=e.getwindowsMap().size;let i=t.rect?g.fromJson(t.rect):new g(50+50*o,50+50*o,600,400);i.snap(10);const r=new S(n,i);return r.root=k.fromJson(t.layout,e,r),r}}const M=0,U=99999;class W{constructor(){this.attributes={},this.idMap=new Map,this.borders=new C(this),this.windows=new Map,this.rootWindow=new S(W.MAIN_WINDOW_ID,g.empty()),this.windows.set(W.MAIN_WINDOW_ID,this.rootWindow),this.changeListeners=[]}doAction(t){var e;let n;switch(t.type){case E.ADD_NODE:{const e=new v(this,t.data.json,!0),o=this.idMap.get(t.data.toNode);(o instanceof I||o instanceof F||o instanceof k)&&(o.drop(e,b.getByName(t.data.location),t.data.index,t.data.select),n=e);break}case E.MOVE_NODE:{const e=this.idMap.get(t.data.fromNode);if(e instanceof v||e instanceof I||e instanceof k){e===this.getMaximizedTabset(e.getWindowId())&&(this.windows.get(e.getWindowId()).maximizedTabSet=void 0);const n=this.idMap.get(t.data.toNode);(n instanceof I||n instanceof F||n instanceof k)&&n.drop(e,b.getByName(t.data.location),t.data.index,t.data.select)}this.removeEmptyWindows();break}case E.DELETE_TAB:{const e=this.idMap.get(t.data.node);e instanceof v&&e.delete(),this.removeEmptyWindows();break}case E.DELETE_TABSET:{const e=this.idMap.get(t.data.node);if(e instanceof I){const t=[...e.getChildren()];for(let e=0;e<t.length;e++){const n=t[e];n.isEnableClose()&&n.delete()}0===e.getChildren().length&&e.delete(),this.tidy()}this.removeEmptyWindows();break}case E.POPOUT_TABSET:{const e=this.idMap.get(t.data.node);if(e instanceof I){const t=e.isMaximized(),n=this.windows.get(e.getWindowId()),o=N(),i=new S(o,n.toScreenRectFunction(e.getRect())),r={type:"row",children:[]},a=k.fromJson(r,this,i);i.root=a,this.windows.set(o,i),a.drop(e,b.CENTER,0),t&&(this.rootWindow.maximizedTabSet=void 0)}this.removeEmptyWindows();break}case E.POPOUT_TAB:{const e=this.idMap.get(t.data.node);if(e instanceof v){const t=N();let n=g.empty();n=e.getParent()instanceof I?e.getParent().getRect():e.getParent().getContentRect();const o=this.windows.get(e.getWindowId()),i=new S(t,o.toScreenRectFunction(n)),r=N(),a={type:"row",children:[{type:"tabset",id:r}]},s=k.fromJson(a,this,i);i.root=s,this.windows.set(t,i),this.idMap.get(r).drop(e,b.CENTER,0,!0)}this.removeEmptyWindows();break}case E.CLOSE_WINDOW:{const n=this.windows.get(t.data.windowId);n&&(null===(e=this.rootWindow.root)||void 0===e||e.drop(null==n?void 0:n.root,b.CENTER,-1),this.rootWindow.visitNodes(((t,e)=>{t instanceof k&&t.setWindowId(W.MAIN_WINDOW_ID)})),this.windows.delete(t.data.windowId));break}case E.CREATE_WINDOW:{const e=N(),o=new S(e,g.fromJson(t.data.rect)),i=k.fromJson(t.data.layout,this,o);o.root=i,this.windows.set(e,o),n=e;break}case E.RENAME_TAB:{const e=this.idMap.get(t.data.node);e instanceof v&&e.setName(t.data.text);break}case E.SELECT_TAB:{const e=this.idMap.get(t.data.tabNode),n=t.data.windowId?t.data.windowId:W.MAIN_WINDOW_ID,o=this.windows.get(n);if(e instanceof v){const t=e.getParent(),n=t.getChildren().indexOf(e);t instanceof F?t.getSelected()===n?t.setSelected(-1):t.setSelected(n):t instanceof I&&(t.getSelected()!==n&&t.setSelected(n),o.activeTabSet=t)}break}case E.SET_ACTIVE_TABSET:{const e=t.data.windowId?t.data.windowId:W.MAIN_WINDOW_ID,n=this.windows.get(e);if(void 0===t.data.tabsetNode)n.activeTabSet=void 0;else{const e=this.idMap.get(t.data.tabsetNode);e instanceof I&&(n.activeTabSet=e)}break}case E.ADJUST_WEIGHTS:{const e=this.idMap.get(t.data.nodeId).getChildren();for(let n=0;n<e.length;n++)e[n].setWeight(t.data.weights[n]);break}case E.ADJUST_BORDER_SPLIT:{const e=this.idMap.get(t.data.node);e instanceof F&&e.setSize(t.data.pos);break}case E.MAXIMIZE_TOGGLE:{const e=t.data.windowId?t.data.windowId:W.MAIN_WINDOW_ID,n=this.windows.get(e),o=this.idMap.get(t.data.node);o instanceof I&&(o===n.maximizedTabSet?n.maximizedTabSet=void 0:(n.maximizedTabSet=o,n.activeTabSet=o));break}case E.UPDATE_MODEL_ATTRIBUTES:this.updateAttrs(t.data.json);break;case E.UPDATE_NODE_ATTRIBUTES:this.idMap.get(t.data.node).updateAttrs(t.data.json)}this.updateIdMap();for(const e of this.changeListeners)e(t);return n}getActiveTabset(t=W.MAIN_WINDOW_ID){const e=this.windows.get(t);return e&&e.activeTabSet&&this.getNodeById(e.activeTabSet.getId())?e.activeTabSet:void 0}getMaximizedTabset(t=W.MAIN_WINDOW_ID){return this.windows.get(t).maximizedTabSet}getRoot(t=W.MAIN_WINDOW_ID){return this.windows.get(t).root}isRootOrientationVertical(){return this.attributes.rootOrientationVertical}isEnableRotateBorderIcons(){return this.attributes.enableRotateBorderIcons}getBorderSet(){return this.borders}getwindowsMap(){return this.windows}visitNodes(t){this.borders.forEachNode(t);for(const[e,n]of this.windows)n.root.forEachNode(t,0)}visitWindowNodes(t,e){this.windows.has(t)&&(t===W.MAIN_WINDOW_ID&&this.borders.forEachNode(e),this.windows.get(t).visitNodes(e))}getNodeById(t){return this.idMap.get(t)}getFirstTabSet(t=this.windows.get(W.MAIN_WINDOW_ID).root){const e=t.getChildren()[0];return e instanceof I?e:this.getFirstTabSet(e)}static fromJson(t){const e=new W;if(W.attributeDefinitions.fromJson(t.global,e.attributes),t.borders&&(e.borders=C.fromJson(t.borders,e)),t.popouts)for(const n in t.popouts){const o=t.popouts[n],i=S.fromJson(o,e,n);e.windows.set(n,i)}return e.rootWindow.root=k.fromJson(t.layout,e,e.getwindowsMap().get(W.MAIN_WINDOW_ID)),e.tidy(),e}toJson(){const t={};W.attributeDefinitions.toJson(t,this.attributes),this.visitNodes((t=>{t.fireEvent("save",{})}));const e={};for(const[t,n]of this.windows)t!==W.MAIN_WINDOW_ID&&(e[t]=n.toJson());return{global:t,borders:this.borders.toJson(),layout:this.rootWindow.root.toJson(),popouts:e}}getSplitterSize(){return this.attributes.splitterSize}getSplitterExtra(){return this.attributes.splitterExtra}isEnableEdgeDock(){return this.attributes.enableEdgeDock}isSplitterEnableHandle(){return this.attributes.splitterEnableHandle}setOnAllowDrop(t){this.onAllowDrop=t}setOnCreateTabSet(t){this.onCreateTabSet=t}addChangeListener(t){this.changeListeners.push(t)}removeChangeListener(t){const e=this.changeListeners.findIndex((e=>e===t));-1!==e&&this.changeListeners.splice(e,1)}toString(){return JSON.stringify(this.toJson())}removeEmptyWindows(){const t=new Set;for(const[e]of this.windows)if(e!==W.MAIN_WINDOW_ID){let n=0;this.visitWindowNodes(e,(t=>{t instanceof v&&n++})),0===n&&t.add(e)}for(const e of t)this.windows.delete(e)}setActiveTabset(t,e){const n=this.windows.get(e);n&&(n.activeTabSet=t||void 0)}setMaximizedTabset(t,e){const n=this.windows.get(e);n&&(n.maximizedTabSet=t||void 0)}updateIdMap(){this.idMap.clear(),this.visitNodes((t=>{this.idMap.set(t.getId(),t)}))}addNode(t){const e=t.getId();if(this.idMap.has(e))throw new Error(`Error: each node must have a unique id, duplicate id:${t.getId()}`);this.idMap.set(e,t)}findDropTargetNode(t,e,n,o){let i=this.windows.get(t).root.findDropTargetNode(t,e,n,o);return void 0===i&&t===W.MAIN_WINDOW_ID&&(i=this.borders.findDropTargetNode(e,n,o)),i}tidy(){for(const[t,e]of this.windows)e.root.tidy()}updateAttrs(t){W.attributeDefinitions.update(t,this.attributes)}nextUniqueId(){return"#"+N()}getAttribute(t){return this.attributes[t]}getOnAllowDrop(){return this.onAllowDrop}getOnCreateTabSet(){return this.onCreateTabSet}static toTypescriptInterfaces(){W.attributeDefinitions.pairAttributes("RowNode",k.getAttributeDefinitions()),W.attributeDefinitions.pairAttributes("TabSetNode",I.getAttributeDefinitions()),W.attributeDefinitions.pairAttributes("TabNode",v.getAttributeDefinitions()),W.attributeDefinitions.pairAttributes("BorderNode",F.getAttributeDefinitions());let t=[];t.push(W.attributeDefinitions.toTypescriptInterface("Global",void 0)),t.push(k.getAttributeDefinitions().toTypescriptInterface("Row",W.attributeDefinitions)),t.push(I.getAttributeDefinitions().toTypescriptInterface("TabSet",W.attributeDefinitions)),t.push(v.getAttributeDefinitions().toTypescriptInterface("Tab",W.attributeDefinitions)),t.push(F.getAttributeDefinitions().toTypescriptInterface("Border",W.attributeDefinitions)),console.log(t.join("\n"))}static createAttributeDefinitions(){const t=new _;return t.add("enableEdgeDock",!0).setType(f.BOOLEAN).setDescription("enable docking to the edges of the layout, this will show the edge indicators"),t.add("rootOrientationVertical",!1).setType(f.BOOLEAN).setDescription("the top level 'row' will layout horizontally by default, set this option true to make it layout vertically"),t.add("enableRotateBorderIcons",!0).setType(f.BOOLEAN).setDescription("boolean indicating if tab icons should rotate with the text in the left and right borders"),t.add("splitterSize",8).setType(f.NUMBER).setDescription("width in pixels of all splitters between tabsets/borders"),t.add("splitterExtra",0).setType(f.NUMBER).setDescription("additional width in pixels of the splitter hit test area"),t.add("splitterEnableHandle",!1).setType(f.BOOLEAN).setDescription("enable a small centralized handle on all splitters"),t.add("tabEnableClose",!0).setType(f.BOOLEAN),t.add("tabCloseType",1).setType("ICloseType"),t.add("tabEnablePopout",!1).setType(f.BOOLEAN).setAlias("tabEnableFloat"),t.add("tabEnablePopoutIcon",!0).setType(f.BOOLEAN),t.add("tabEnablePopoutOverlay",!1).setType(f.BOOLEAN),t.add("tabEnableDrag",!0).setType(f.BOOLEAN),t.add("tabEnableRename",!0).setType(f.BOOLEAN),t.add("tabContentClassName",void 0).setType(f.STRING),t.add("tabClassName",void 0).setType(f.STRING),t.add("tabIcon",void 0).setType(f.STRING),t.add("tabEnableRenderOnDemand",!0).setType(f.BOOLEAN),t.add("tabDragSpeed",.3).setType(f.NUMBER),t.add("tabBorderWidth",-1).setType(f.NUMBER),t.add("tabBorderHeight",-1).setType(f.NUMBER),t.add("tabSetEnableDeleteWhenEmpty",!0).setType(f.BOOLEAN),t.add("tabSetEnableDrop",!0).setType(f.BOOLEAN),t.add("tabSetEnableDrag",!0).setType(f.BOOLEAN),t.add("tabSetEnableDivide",!0).setType(f.BOOLEAN),t.add("tabSetEnableMaximize",!0).setType(f.BOOLEAN),t.add("tabSetEnableClose",!1).setType(f.BOOLEAN),t.add("tabSetEnableSingleTabStretch",!1).setType(f.BOOLEAN),t.add("tabSetAutoSelectTab",!0).setType(f.BOOLEAN),t.add("tabSetEnableActiveIcon",!1).setType(f.BOOLEAN),t.add("tabSetClassNameTabStrip",void 0).setType(f.STRING),t.add("tabSetEnableTabStrip",!0).setType(f.BOOLEAN),t.add("tabSetEnableTabWrap",!1).setType(f.BOOLEAN),t.add("tabSetTabLocation","top").setType("ITabLocation"),t.add("tabMinWidth",M).setType(f.NUMBER),t.add("tabMinHeight",M).setType(f.NUMBER),t.add("tabSetMinWidth",M).setType(f.NUMBER),t.add("tabSetMinHeight",M).setType(f.NUMBER),t.add("tabMaxWidth",U).setType(f.NUMBER),t.add("tabMaxHeight",U).setType(f.NUMBER),t.add("tabSetMaxWidth",U).setType(f.NUMBER),t.add("tabSetMaxHeight",U).setType(f.NUMBER),t.add("borderSize",200).setType(f.NUMBER),t.add("borderMinSize",M).setType(f.NUMBER),t.add("borderMaxSize",U).setType(f.NUMBER),t.add("borderEnableDrop",!0).setType(f.BOOLEAN),t.add("borderAutoSelectTabWhenOpen",!0).setType(f.BOOLEAN),t.add("borderAutoSelectTabWhenClosed",!1).setType(f.BOOLEAN),t.add("borderClassName",void 0).setType(f.STRING),t.add("borderEnableAutoHide",!1).setType(f.BOOLEAN),t}}W.MAIN_WINDOW_ID="__main_window_id__",W.attributeDefinitions=W.createAttributeDefinitions();class F extends T{static fromJson(t,e){const n=b.getByName(t.location),o=new F(n,t,e);return t.children&&(o.children=t.children.map((t=>{const n=v.fromJson(t,e);return n.setParent(o),n}))),o}constructor(t,e,n){super(n),this.outerRect=g.empty(),this.contentRect=g.empty(),this.tabHeaderRect=g.empty(),this.location=t,this.attributes.id=`border_${t.getName()}`,F.attributeDefinitions.fromJson(e,this.attributes),n.addNode(this)}getLocation(){return this.location}getClassName(){return this.getAttr("className")}isHorizontal(){return this.location.orientation===u.HORZ}getSize(){const t=this.getAttr("size"),e=this.getSelected();if(-1===e)return t;{const n=this.children[e],o=this.isHorizontal()?n.getAttr("borderWidth"):n.getAttr("borderHeight");return-1===o?t:o}}getMinSize(){const t=this.getSelectedNode();let e=this.getAttr("minSize");if(t){const n=this.isHorizontal()?t.getMinWidth():t.getMinHeight();e=Math.max(e,n)}return e}getMaxSize(){const t=this.getSelectedNode();let e=this.getAttr("maxSize");if(t){const n=this.isHorizontal()?t.getMaxWidth():t.getMaxHeight();e=Math.min(e,n)}return e}getSelected(){return this.attributes.selected}isAutoHide(){return this.getAttr("enableAutoHide")}getSelectedNode(){if(-1!==this.getSelected())return this.children[this.getSelected()]}getOrientation(){return this.location.getOrientation()}getConfig(){return this.attributes.config}isMaximized(){return!1}isShowing(){return this.attributes.show}toJson(){const t={};return F.attributeDefinitions.toJson(t,this.attributes),t.location=this.location.getName(),t.children=this.children.map((t=>t.toJson())),t}isAutoSelectTab(t){return null==t&&(t=-1!==this.getSelected()),t?this.getAttr("autoSelectTabWhenOpen"):this.getAttr("autoSelectTabWhenClosed")}setSelected(t){this.attributes.selected=t}getTabHeaderRect(){return this.tabHeaderRect}setTabHeaderRect(t){this.tabHeaderRect=t}getOuterRect(){return this.outerRect}setOuterRect(t){this.outerRect=t}getRect(){return this.tabHeaderRect}getContentRect(){return this.contentRect}setContentRect(t){this.contentRect=t}isEnableDrop(){return this.getAttr("enableDrop")}setSize(t){const e=this.getSelected();if(-1===e)this.attributes.size=t;else{const n=this.children[e];-1===(this.isHorizontal()?n.getAttr("borderWidth"):n.getAttr("borderHeight"))?this.attributes.size=t:this.isHorizontal()?n.setBorderWidth(t):n.setBorderHeight(t)}}updateAttrs(t){F.attributeDefinitions.update(t,this.attributes)}remove(t){const e=this.removeChild(t);-1!==this.getSelected()&&L(this,e)}canDrop(t,e,n){if(!(t instanceof v))return;let o;const i=b.CENTER;if(this.tabHeaderRect.contains(e,n)){if(this.location.orientation===u.VERT)if(this.children.length>0){let t=this.children[0],n=t.getTabRect();const r=n.y,a=n.height;let s=this.tabHeaderRect.x,l=0;for(let c=0;c<this.children.length;c++){if(t=this.children[c],n=t.getTabRect(),l=n.x+n.width/2,e>=s&&e<l){const t=new g(n.x-2,r,3,a);o=new m(this,t,i,c,d.FLEXLAYOUT__OUTLINE_RECT);break}s=l}if(null==o){const t=new g(n.getRight()-2,r,3,a);o=new m(this,t,i,this.children.length,d.FLEXLAYOUT__OUTLINE_RECT)}}else{const t=new g(this.tabHeaderRect.x+1,this.tabHeaderRect.y+2,3,18);o=new m(this,t,i,0,d.FLEXLAYOUT__OUTLINE_RECT)}else if(this.children.length>0){let t=this.children[0],e=t.getTabRect();const r=e.x,a=e.width;let s=this.tabHeaderRect.y,l=0;for(let c=0;c<this.children.length;c++){if(t=this.children[c],e=t.getTabRect(),l=e.y+e.height/2,n>=s&&n<l){const t=new g(r,e.y-2,a,3);o=new m(this,t,i,c,d.FLEXLAYOUT__OUTLINE_RECT);break}s=l}if(null==o){const t=new g(r,e.getBottom()-2,a,3);o=new m(this,t,i,this.children.length,d.FLEXLAYOUT__OUTLINE_RECT)}}else{const t=new g(this.tabHeaderRect.x+2,this.tabHeaderRect.y+1,18,3);o=new m(this,t,i,0,d.FLEXLAYOUT__OUTLINE_RECT)}if(!t.canDockInto(t,o))return}else if(-1!==this.getSelected()&&this.outerRect.contains(e,n)){const e=this.outerRect;if(o=new m(this,e,i,-1,d.FLEXLAYOUT__OUTLINE_RECT),!t.canDockInto(t,o))return}return o}drop(t,e,n,o){let i=0;const r=t.getParent();void 0!==r&&(i=r.removeChild(t),r!==this&&r instanceof F&&r.getSelected()===i?r.setSelected(-1):L(r,i)),t instanceof v&&r===this&&i<n&&n>0&&n--;let a=n;-1===a&&(a=this.children.length),t instanceof v&&this.addChild(t,a),(o||!1!==o&&this.isAutoSelectTab())&&this.setSelected(a),this.model.tidy()}getSplitterBounds(t,e=!1){const n=[0,0],o=e?this.getMinSize():0,i=e?this.getMaxSize():99999,r=this.model.getRoot(W.MAIN_WINDOW_ID),a=r.getRect(),s=this.model.getSplitterSize();if(this.location===b.TOP){n[0]=this.tabHeaderRect.getBottom()+o;const t=this.tabHeaderRect.getBottom()+i;n[1]=Math.max(n[0],a.getBottom()-r.getMinHeight()-s),n[1]=Math.min(n[1],t)}else if(this.location===b.LEFT){n[0]=this.tabHeaderRect.getRight()+o;const t=this.tabHeaderRect.getRight()+i;n[1]=Math.max(n[0],a.getRight()-r.getMinWidth()-s),n[1]=Math.min(n[1],t)}else if(this.location===b.BOTTOM){n[1]=this.tabHeaderRect.y-o-s;const t=this.tabHeaderRect.y-i-s;n[0]=Math.min(n[1],a.y+r.getMinHeight()),n[0]=Math.max(n[0],t)}else if(this.location===b.RIGHT){n[1]=this.tabHeaderRect.x-o-s;const t=this.tabHeaderRect.x-i-s;n[0]=Math.min(n[1],a.x+r.getMinWidth()),n[0]=Math.max(n[0],t)}return n}calculateSplit(t,e){const n=this.getSplitterBounds(e);return this.location===b.BOTTOM||this.location===b.RIGHT?Math.max(0,n[1]-e):Math.max(0,e-n[0])}getAttributeDefinitions(){return F.attributeDefinitions}static getAttributeDefinitions(){return F.attributeDefinitions}static createAttributeDefinitions(){const t=new _;return t.add("type",F.TYPE,!0).setType(f.STRING).setFixed(),t.add("selected",-1).setType(f.NUMBER).setDescription("index of selected/visible tab in border; -1 means no tab selected"),t.add("show",!0).setType(f.BOOLEAN).setDescription("show/hide this border"),t.add("config",void 0).setType("any").setDescription("a place to hold json config used in your own code"),t.addInherited("enableDrop","borderEnableDrop").setType(f.BOOLEAN).setDescription("whether tabs can be dropped into this border"),t.addInherited("className","borderClassName").setType(f.STRING).setDescription("class applied to tab button"),t.addInherited("autoSelectTabWhenOpen","borderAutoSelectTabWhenOpen").setType(f.BOOLEAN).setDescription("whether to select new/moved tabs in border when the border is already open"),t.addInherited("autoSelectTabWhenClosed","borderAutoSelectTabWhenClosed").setType(f.BOOLEAN).setDescription("whether to select new/moved tabs in border when the border is currently closed"),t.addInherited("size","borderSize").setType(f.NUMBER).setDescription("size of the tab area when selected"),t.addInherited("minSize","borderMinSize").setType(f.NUMBER).setDescription("the minimum size of the tab area"),t.addInherited("maxSize","borderMaxSize").setType(f.NUMBER).setDescription("the maximum size of the tab area"),t.addInherited("enableAutoHide","borderEnableAutoHide").setType(f.BOOLEAN).setDescription("hide border if it has zero tabs"),t}}F.TYPE="border",F.attributeDefinitions=F.createAttributeDefinitions();const Y=t=>{const{layout:e,node:n,index:o,horizontal:i}=t,[r,a]=s.useState(!1),l=s.useRef(null),c=s.useRef(null),A=s.useRef([]),h=s.useRef(void 0),b=s.useRef(void 0),p=s.useRef(0),f=s.useRef(0),_=s.useRef({initialSizes:[],sum:0,startPosition:0}),m=n.getModel().getSplitterSize();let C=n.getModel().getSplitterExtra();y()||(C=Math.max(30,C+m)-m),s.useEffect((()=>{var t,e;return null===(t=l.current)||void 0===t||t.addEventListener("touchstart",T,{passive:!1}),null===(e=c.current)||void 0===e||e.addEventListener("touchstart",T,{passive:!1}),()=>{var t,e;null===(t=l.current)||void 0===t||t.removeEventListener("touchstart",T),null===(e=c.current)||void 0===e||e.removeEventListener("touchstart",T)}}),[]);const T=t=>{t.preventDefault(),t.stopImmediatePropagation()},v=t=>{var r;t.stopPropagation(),n instanceof k&&(_.current=n.getSplitterInitials(o)),D(!1,e.getCurrentDocument()),function(t,e,n,o,i){e.preventDefault();const r=t=>{t.preventDefault(),n(t.clientX,t.clientY)},a=t=>{t.preventDefault(),i()},s=()=>{t.removeEventListener("pointermove",r),t.removeEventListener("pointerup",s),t.removeEventListener("pointercancel",a),o()};t.addEventListener("pointermove",r),t.addEventListener("pointerup",s),t.addEventListener("pointercancel",a)}(t.currentTarget.ownerDocument,t,w,O,x),A.current=n.getSplitterBounds(o,!0);const s=e.getRootDiv();h.current=e.getCurrentDocument().createElement("div"),h.current.style.flexDirection=i?"row":"column",h.current.className=e.getClassName(d.FLEXLAYOUT__SPLITTER_DRAG),h.current.style.cursor=n.getOrientation()===u.VERT?"ns-resize":"ew-resize",n.getModel().isSplitterEnableHandle()&&(b.current=e.getCurrentDocument().createElement("div"),b.current.className=L(d.FLEXLAYOUT__SPLITTER_HANDLE)+" "+L(i?d.FLEXLAYOUT__SPLITTER_HANDLE_HORZ:d.FLEXLAYOUT__SPLITTER_HANDLE_VERT),h.current.appendChild(b.current));const c=null===(r=l.current)||void 0===r?void 0:r.getBoundingClientRect(),E=new g(c.x-e.getDomRect().x,c.y-e.getDomRect().y,c.width,c.height);p.current=t.clientX-c.x,f.current=t.clientY-c.y,E.positionElement(h.current),s&&s.appendChild(h.current),a(!0)},x=()=>{const t=e.getRootDiv();t&&h.current&&t.removeChild(h.current),h.current=void 0,a(!1)},w=(t,o)=>{if(h.current){const i=e.getDomRect();if(!i)return;n.getOrientation()===u.VERT?h.current.style.top=R(o-i.y-f.current)+"px":h.current.style.left=R(t-i.x-p.current)+"px",e.isRealtimeResize()&&B(!0)}},O=()=>{if(h.current){B(!1);const t=e.getRootDiv();t&&h.current&&t.removeChild(h.current),h.current=void 0}D(!0,e.getCurrentDocument()),a(!1)},B=t=>{(()=>{if(h.current){let t=0;if(t=n.getOrientation()===u.VERT?h.current.offsetTop:h.current.offsetLeft,n instanceof F){const o=n.calculateSplit(n,t);e.doAction(E.adjustBorderSplit(n.getId(),o))}else{const i=_.current,r=n.calculateSplit(o,t,i.initialSizes,i.sum,i.startPosition);e.doAction(E.adjustWeights(n.getId(),r))}}})()},R=t=>{const e=A.current;let n=t;return t<e[0]&&(n=e[0]),t>e[1]&&(n=e[1]),n},L=e.getClassName,N={cursor:i?"ew-resize":"ns-resize",flexDirection:i?"column":"row"};let I,S=L(d.FLEXLAYOUT__SPLITTER)+" "+L(d.FLEXLAYOUT__SPLITTER_+n.getOrientation().getName());if(n instanceof F?S+=" "+L(d.FLEXLAYOUT__SPLITTER_BORDER):void 0!==n.getModel().getMaximizedTabset(e.getWindowId())&&(N.display="none"),i?(N.width=m+"px",N.minWidth=m+"px"):(N.height=m+"px",N.minHeight=m+"px"),!r&&n.getModel().isSplitterEnableHandle()&&(I=s.createElement("div",{className:L(d.FLEXLAYOUT__SPLITTER_HANDLE)+" "+L(i?d.FLEXLAYOUT__SPLITTER_HANDLE_HORZ:d.FLEXLAYOUT__SPLITTER_HANDLE_VERT)})),0===C)return s.createElement("div",{className:S,style:N,ref:l,"data-layout-path":n.getPath()+"/s"+(o-1),onPointerDown:v},I);{const t={};n.getOrientation()===u.HORZ?(t.height="100%",t.width=m+C+"px",t.cursor="ew-resize"):(t.height=m+C+"px",t.width="100%",t.cursor="ns-resize");const e=L(d.FLEXLAYOUT__SPLITTER_EXTRA);return s.createElement("div",{className:S,style:N,ref:l,"data-layout-path":n.getPath()+"/s"+(o-1),onPointerDown:v},s.createElement("div",{style:t,ref:c,className:e,onPointerDown:v}))}};function P(t){const{layout:e,border:n,show:o}=t,i=s.useRef(null);s.useLayoutEffect((()=>{const t=e.getBoundingClientRect(i.current),o=g.getContentRect(i.current).relativeTo(e.getDomRect());t.width>0&&(n.setOuterRect(t),n.getContentRect().equals(o)||(n.setContentRect(o),e.redrawInternal("border content rect")))}));let r=!0;const a={};n.getOrientation()===u.HORZ?(a.width=n.getSize(),a.minWidth=n.getMinSize(),a.maxWidth=n.getMaxSize()):(a.height=n.getSize(),a.minHeight=n.getMinSize(),a.maxHeight=n.getMaxSize(),r=!1),a.display=o?"flex":"none";const l=e.getClassName(d.FLEXLAYOUT__BORDER_TAB_CONTENTS);return n.getLocation()===b.LEFT||n.getLocation()===b.TOP?s.createElement(s.Fragment,null,s.createElement("div",{ref:i,style:a,className:l}),o&&s.createElement(Y,{layout:e,node:n,index:0,horizontal:r})):s.createElement(s.Fragment,null,o&&s.createElement(Y,{layout:e,node:n,index:0,horizontal:r}),s.createElement("div",{ref:i,style:a,className:l}))}var z;!function(t){t[t.Visible=1]="Visible",t[t.Always=2]="Always",t[t.Selected=3]="Selected"}(z||(z={}));const H=t=>{const{layout:e,node:n,selected:o,border:i,icons:r,path:a}=t,c=s.useRef(null),A=s.useRef(null),h=()=>{e.doAction(E.selectTab(n.getId()))},u=t=>{(()=>{const t=n.getCloseType();return!!(o||t===z.Always||t===z.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)})()?e.doAction(E.deleteTab(n.getId())):h()},g=t=>{t.stopPropagation()};s.useLayoutEffect((()=>{n.setTabRect(e.getBoundingClientRect(c.current)),e.getEditingTab()===n&&A.current.select()}));const b=e.getClassName;let p=b(d.FLEXLAYOUT__BORDER_BUTTON)+" "+b(d.FLEXLAYOUT__BORDER_BUTTON_+i);p+=o?" "+b(d.FLEXLAYOUT__BORDER_BUTTON__SELECTED):" "+b(d.FLEXLAYOUT__BORDER_BUTTON__UNSELECTED),void 0!==n.getClassName()&&(p+=" "+n.getClassName());let f=0;!1===n.getModel().isEnableRotateBorderIcons()&&("left"===i?f=90:"right"===i&&(f=-90));const _=x(e,n,f);let m=_.content?s.createElement("div",{className:b(d.FLEXLAYOUT__BORDER_BUTTON_CONTENT)},_.content):null;const C=_.leading?s.createElement("div",{className:b(d.FLEXLAYOUT__BORDER_BUTTON_LEADING)},_.leading):null;if(e.getEditingTab()===n&&(m=s.createElement("input",{ref:A,className:b(d.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":a+"/textbox",type:"text",autoFocus:!0,defaultValue:n.getName(),onKeyDown:t=>{"Escape"===t.code?e.setEditingTab(void 0):"Enter"===t.code&&(e.setEditingTab(void 0),e.doAction(E.renameTab(n.getId(),t.target.value)))},onPointerDown:t=>{t.stopPropagation()}})),n.isEnableClose()){const t=e.i18nName(l.Close_Tab);_.buttons.push(s.createElement("div",{key:"close","data-layout-path":a+"/button/close",title:t,className:b(d.FLEXLAYOUT__BORDER_BUTTON_TRAILING),onPointerDown:g,onClick:u},"function"==typeof r.close?r.close(n):r.close))}return s.createElement("div",{ref:c,"data-layout-path":a,className:p,onClick:h,onAuxClick:t=>{w(t)&&e.auxMouseClick(n,t)},onContextMenu:t=>{e.showContextMenu(n,t)},title:n.getHelpText(),draggable:!0,onDragStart:t=>{n.isEnableDrag()?(t.stopPropagation(),e.setDragNode(t.nativeEvent,n)):t.preventDefault()},onDragEnd:t=>{t.stopPropagation(),e.clearDragMain()}},C,m,_.buttons)},X=t=>{const{layout:e,node:n}=t,o=e.getClassName;let i=o(d.FLEXLAYOUT__TAB_BUTTON_STAMP);const r=x(e,n);let a=r.content?s.createElement("div",{className:o(d.FLEXLAYOUT__TAB_BUTTON_CONTENT)},r.content):n.getNameForOverflowMenu();const l=r.leading?s.createElement("div",{className:o(d.FLEXLAYOUT__TAB_BUTTON_LEADING)},r.leading):null;return s.createElement("div",{className:i,title:n.getHelpText()},l,a)};function V(t,e,n,o){var i;const r=o.getRootDiv(),a=o.getClassName,l=t.ownerDocument,c=t.getBoundingClientRect(),A=null!==(i=null==r?void 0:r.getBoundingClientRect())&&void 0!==i?i:new DOMRect(0,0,100,100),h=l.createElement("div");h.className=a(d.FLEXLAYOUT__POPUP_MENU_CONTAINER),c.left<A.left+A.width/2?h.style.left=c.left-A.left+"px":h.style.right=A.right-c.right+"px",c.top<A.top+A.height/2?h.style.top=c.top-A.top+"px":h.style.bottom=A.bottom-c.bottom+"px",o.showOverlay(!0),r&&r.appendChild(h);const u=()=>{o.hideControlInPortal(),o.showOverlay(!1),r&&r.removeChild(h),h.removeEventListener("pointerdown",g),l.removeEventListener("pointerdown",b)},g=t=>{t.stopPropagation()},b=t=>{u()};h.addEventListener("pointerdown",g),l.addEventListener("pointerdown",b),o.showControlInPortal(s.createElement(j,{currentDocument:l,onSelect:n,onHide:u,items:e,classNameMapper:a,layout:o}),h)}const j=t=>{const{items:e,onHide:n,onSelect:o,classNameMapper:i,layout:r}=t,a=t=>{r.clearDragMain()},l=e.map(((t,e)=>s.createElement("div",{key:t.index,className:i(d.FLEXLAYOUT__POPUP_MENU_ITEM),"data-layout-path":"/popup-menu/tb"+e,onClick:e=>((t,e)=>{o(t),n(),e.stopPropagation()})(t,e),draggable:!0,onDragStart:e=>{return o=e,i=t.node,o.stopPropagation(),r.setDragNode(o.nativeEvent,i),void setTimeout((()=>{n()}),0);var o,i},onDragEnd:a,title:t.node.getHelpText()},s.createElement(X,{node:t.node,layout:r}))));return s.createElement("div",{className:i(d.FLEXLAYOUT__POPUP_MENU),"data-layout-path":"/popup-menu"},l)},G=(t,e,n,o)=>{const i=s.useRef(!0),r=s.useRef(!1),a=s.useRef(g.empty()),l=s.useRef(null),[d,c]=s.useState(0),A=s.useRef(!1),[h,b]=s.useState([]),p=s.useRef(0);s.useLayoutEffect((()=>{A.current=!1}),[t.getSelectedNode(),t.getRect().width,t.getRect().height]),s.useLayoutEffect((()=>{const e=t instanceof I?t.getRect():t.getTabHeaderRect();e.width>0&&e.height>0&&T()}));const E=n.current;s.useEffect((()=>{if(E)return E.addEventListener("wheel",f,{passive:!1}),()=>{E.removeEventListener("wheel",f)}}),[E]);const f=t=>{t.preventDefault()},_=t=>e===u.HORZ?t.x:t.y,m=t=>e===u.HORZ?t.getRight():t.getBottom(),C=t=>e===u.HORZ?t.width:t.height,T=()=>{!0===i.current&&(r.current=!1);const e=t instanceof I?t.getRect():t.getTabHeaderRect();let s=t.getChildren()[t.getChildren().length-1];const l=null===o.current?0:C(o.current.getBoundingClientRect());if(!0===i.current||0===p.current&&0!==h.length||e.width!==a.current.width||e.height!==a.current.height){p.current=h.length,a.current=e;const o=!(t instanceof I)||!0===t.isEnableTabStrip();let u=m(e)-l;if(null!==n.current&&(u-=C(n.current.getBoundingClientRect())),o&&t.getChildren().length>0){if(0===h.length&&0===d&&m(s.getTabRect())+2<u)return;let n=0;const o=t.getSelectedNode();if(o&&!A.current){const t=o.getTabRect(),i=_(t)-2,r=m(t)+2;C(t)+4>=u-_(e)?n=_(e)-i:(r>u||i<_(e))&&(i<_(e)&&(n=_(e)-i),r+n>u&&(n=u-r))}const a=Math.max(0,u-(m(s.getTabRect())+2+n)),l=Math.min(0,d+n+a),g=l-d,p=[];for(let n=0;n<t.getChildren().length;n++){const o=t.getChildren()[n];(_(o.getTabRect())+g<_(e)||m(o.getTabRect())+g>u)&&p.push({node:o,index:n})}r.current=p.length>0,i.current=!1,b(p),c(l)}}else i.current=!0};return{selfRef:l,position:d,userControlledLeft:A,hiddenTabs:h,onMouseWheel:e=>{if(0===t.getChildren().length)return;let n=0;n=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX:-e.deltaY,1===e.deltaMode&&(n*=40),c(d+n),A.current=!0,e.stopPropagation()},tabsTruncated:r.current}},J=t=>{const{border:e,layout:n,size:o}=t,i=s.useRef(null),r=s.useRef(null),a=s.useRef(null),c=n.getIcons();s.useLayoutEffect((()=>{e.setTabHeaderRect(g.getBoundingClientRect(A.current).relativeTo(n.getDomRect()))}));const{selfRef:A,position:h,userControlledLeft:p,hiddenTabs:f,onMouseWheel:_,tabsTruncated:m}=G(e,u.flip(e.getOrientation()),i,a),C=t=>{w(t)&&n.auxMouseClick(e,t)},T=t=>{t.stopPropagation()},v=t=>{const o=n.getShowOverflowMenu();void 0!==o?o(e,t,f,y):V(r.current,f,y,n),t.stopPropagation()},y=t=>{n.doAction(E.selectTab(t.node.getId())),p.current=!1},x=t=>{const o=e.getChildren()[e.getSelected()];void 0!==o&&n.doAction(E.popoutTab(o.getId())),t.stopPropagation()},D=n.getClassName,O=[],B=t=>{let o=e.getSelected()===t,i=e.getChildren()[t];O.push(s.createElement(H,{layout:n,border:e.getLocation().getName(),node:i,path:e.getPath()+"/tb"+t,key:i.getId(),selected:o,icons:c})),t<e.getChildren().length-1&&O.push(s.createElement("div",{key:"divider"+t,className:D(d.FLEXLAYOUT__BORDER_TAB_DIVIDER)}))};for(let t=0;t<e.getChildren().length;t++)B(t);let R=D(d.FLEXLAYOUT__BORDER)+" "+D(d.FLEXLAYOUT__BORDER_+e.getLocation().getName());void 0!==e.getClassName()&&(R+=" "+e.getClassName());let L=[],N=[];const I={buttons:L,stickyButtons:N,overflowPosition:void 0};if(n.customizeTabSet(e,I),L=I.buttons,void 0===I.overflowPosition&&(I.overflowPosition=N.length),N.length>0&&(m?L=[...N,...L]:O.push(s.createElement("div",{ref:a,key:"sticky_buttons_container",onPointerDown:T,onDragStart:t=>{t.preventDefault()},className:D(d.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},N))),f.length>0){const t=n.i18nName(l.Overflow_Menu_Tooltip);let o;o="function"==typeof c.more?c.more(e,f):s.createElement(s.Fragment,null,c.more,s.createElement("div",{className:D(d.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},f.length)),L.splice(Math.min(I.overflowPosition,L.length),0,s.createElement("button",{key:"overflowbutton",ref:r,className:D(d.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+D(d.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW)+" "+D(d.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_OVERFLOW_+e.getLocation().getName()),title:t,onClick:v,onPointerDown:T},o))}const k=e.getSelected();if(-1!==k){const t=e.getChildren()[k];if(void 0!==t&&n.isSupportsPopout()&&t.isEnablePopout()){const e=n.i18nName(l.Popout_Tab);L.push(s.createElement("button",{key:"popout",title:e,className:D(d.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON)+" "+D(d.FLEXLAYOUT__BORDER_TOOLBAR_BUTTON_FLOAT),onClick:x,onPointerDown:T},"function"==typeof c.popout?c.popout(t):c.popout))}}const S=s.createElement("div",{key:"toolbar",ref:i,className:D(d.FLEXLAYOUT__BORDER_TOOLBAR)+" "+D(d.FLEXLAYOUT__BORDER_TOOLBAR_+e.getLocation().getName())},L);let M={},U={};const W=o-1;return e.getLocation()===b.LEFT?(M={right:"100%",top:h},U={width:W}):e.getLocation()===b.RIGHT?(M={left:"100%",top:h},U={width:W}):(M={left:h},U={height:W}),s.createElement("div",{ref:A,style:{display:"flex",flexDirection:e.getOrientation()===u.VERT?"row":"column"},className:R,"data-layout-path":e.getPath(),onClick:C,onAuxClick:C,onContextMenu:t=>{n.showContextMenu(e,t)},onWheel:_},s.createElement("div",{style:U,className:D(d.FLEXLAYOUT__BORDER_INNER)+" "+D(d.FLEXLAYOUT__BORDER_INNER_+e.getLocation().getName())},s.createElement("div",{style:M,className:D(d.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER)+" "+D(d.FLEXLAYOUT__BORDER_INNER_TAB_CONTAINER_+e.getLocation().getName())},O)),S)},Z=t=>{const{layout:e,node:n}=t,o=s.useRef(null);s.useEffect((()=>{n.setTabStamp(o.current)}),[n,o.current]);let i=(0,e.getClassName)(d.FLEXLAYOUT__DRAG_RECT);return s.createElement("div",{ref:o,className:i},s.createElement(X,{key:n.getId(),layout:e,node:n}))};class q extends s.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){console.debug(t),console.debug(e)}render(){return this.state.hasError?s.createElement("div",{className:d.FLEXLAYOUT__ERROR_BOUNDARY_CONTAINER},s.createElement("div",{className:d.FLEXLAYOUT__ERROR_BOUNDARY_CONTENT},this.props.message)):this.props.children}}const Q=t=>{const{title:e,layout:n,layoutWindow:o,url:i,onCloseWindow:r,onSetWindow:a,children:l}=t,c=s.useRef(null),[h,u]=s.useState(void 0),g=new Map;return s.useLayoutEffect((()=>{if(!c.current){const t=o.windowId,n=o.rect;c.current=window.open(i,t,`left=${n.x},top=${n.y},width=${n.width},height=${n.height}`),c.current?(o.window=c.current,a(o,c.current),window.addEventListener("beforeunload",(()=>{if(c.current){const t=c.current;c.current=null,t.close()}})),c.current.addEventListener("load",(()=>{if(c.current){c.current.focus(),c.current.resizeTo(n.width,n.height),c.current.moveTo(n.x,n.y);const t=c.current.document;t.title=e;const i=t.createElement("div");i.className=d.FLEXLAYOUT__FLOATING_WINDOW_CONTENT,t.body.appendChild(i),function(t,e){const n=[],o=document.querySelectorAll('style, link[rel="stylesheet"]');for(const i of o)$(t,i,e,n);return Promise.all(n)}(t,g).then((()=>{u(i)}));const a=new MutationObserver((e=>function(t,e,n){for(const o of t)if("childList"===o.type){for(const t of o.addedNodes)(t instanceof HTMLLinkElement||t instanceof HTMLStyleElement)&&$(e,t,n);for(const t of o.removedNodes)if(t instanceof HTMLLinkElement||t instanceof HTMLStyleElement){const o=n.get(t);o&&e.head.removeChild(o)}}}(e,t,g)));a.observe(document.head,{childList:!0}),c.current.addEventListener("beforeunload",(()=>{c.current&&(r(o),c.current=null,a.disconnect())}))}}))):(console.warn(`Unable to open window ${i}`),r(o))}return()=>{var t;n.getModel().getwindowsMap().has(o.windowId)||(null===(t=c.current)||void 0===t||t.close(),c.current=null)}}),[]),void 0!==h?(0,A.createPortal)(l,h):null};function $(t,e,n,o){if(e instanceof HTMLLinkElement){const i=e.cloneNode(!0);t.head.appendChild(i),n.set(e,i),o&&o.push(new Promise((t=>{i.onload=()=>t(!0)})))}else if(e instanceof HTMLStyleElement)try{const o=e.cloneNode(!0);t.head.appendChild(o),n.set(e,o)}catch(t){}}const K={width:"1em",height:"1em",display:"flex",alignItems:"center"},tt=()=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:K,viewBox:"0 0 24 24"},s.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),s.createElement("path",{stroke:"var(--color-icon)",fill:"var(--color-icon)",d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),et=t=>{const{layout:e,show:n}=t;return s.createElement("div",{className:e.getClassName(d.FLEXLAYOUT__LAYOUT_OVERLAY),style:{display:n?"flex":"none"}})},nt=t=>{const{layout:e,node:n,selected:o,path:i}=t,r=s.useRef(null),a=s.useRef(null),c=e.getIcons();s.useLayoutEffect((()=>{n.setTabRect(e.getBoundingClientRect(r.current)),e.getEditingTab()===n&&a.current.select()}));const A=()=>{e.doAction(E.selectTab(n.getId()))},h=t=>{t.target!==a.current&&(e.getCurrentDocument().body.removeEventListener("pointerdown",h),e.setEditingTab(void 0))},u=t=>{(()=>{const t=n.getCloseType();return!!(o||t===z.Always||t===z.Visible&&window.matchMedia&&window.matchMedia("(hover: hover) and (pointer: fine)").matches)})()?e.doAction(E.deleteTab(n.getId())):A()},g=t=>{t.stopPropagation()},b=e.getClassName,p=n.getParent(),f=p.isEnableSingleTabStretch()&&1===p.getChildren().length;let _=f?d.FLEXLAYOUT__TAB_BUTTON_STRETCH:d.FLEXLAYOUT__TAB_BUTTON,m=b(_);m+=" "+b(_+"_"+p.getTabLocation()),f||(m+=o?" "+b(_+"--selected"):" "+b(_+"--unselected")),void 0!==n.getClassName()&&(m+=" "+n.getClassName());const C=x(e,n);let T=C.content?s.createElement("div",{className:b(d.FLEXLAYOUT__TAB_BUTTON_CONTENT)},C.content):null;const v=C.leading?s.createElement("div",{className:b(d.FLEXLAYOUT__TAB_BUTTON_LEADING)},C.leading):null;if(e.getEditingTab()===n&&(T=s.createElement("input",{ref:a,className:b(d.FLEXLAYOUT__TAB_BUTTON_TEXTBOX),"data-layout-path":i+"/textbox",type:"text",autoFocus:!0,defaultValue:n.getName(),onKeyDown:t=>{"Escape"===t.code?e.setEditingTab(void 0):"Enter"===t.code&&(e.setEditingTab(void 0),e.doAction(E.renameTab(n.getId(),t.target.value)))},onPointerDown:t=>{t.stopPropagation()}})),n.isEnableClose()&&!f){const t=e.i18nName(l.Close_Tab);C.buttons.push(s.createElement("div",{key:"close","data-layout-path":i+"/button/close",title:t,className:b(d.FLEXLAYOUT__TAB_BUTTON_TRAILING),onPointerDown:g,onClick:u},"function"==typeof c.close?c.close(n):c.close))}return s.createElement("div",{ref:r,"data-layout-path":i,className:m,onClick:A,onAuxClick:t=>{w(t)&&e.auxMouseClick(n,t)},onContextMenu:t=>{e.showContextMenu(n,t)},title:n.getHelpText(),draggable:!0,onDragStart:t=>{n.isEnableDrag()?(t.stopPropagation(),e.setDragNode(t.nativeEvent,n)):t.preventDefault()},onDragEnd:t=>{e.clearDragMain()},onDoubleClick:t=>{n.isEnableRename()&&(e.setEditingTab(n),e.getCurrentDocument().body.addEventListener("pointerdown",h),t.stopPropagation())}},v,T,C.buttons)},ot=t=>{const{node:e,layout:n}=t,o=s.useRef(null),i=s.useRef(null),r=s.useRef(null),a=s.useRef(null),c=s.useRef(null),h=s.useRef(null),b=n.getIcons();s.useEffect((()=>{e.setRect(n.getBoundingClientRect(p.current)),o.current&&e.setTabStripRect(n.getBoundingClientRect(o.current));const t=g.getContentRect(r.current).relativeTo(n.getDomRect());e.getContentRect().equals(t)||(e.setContentRect(t),n.redrawInternal("tabset content rect "+t))}));const{selfRef:p,position:f,userControlledLeft:_,hiddenTabs:m,onMouseWheel:C,tabsTruncated:T}=G(e,u.HORZ,a,h),v=t=>{const o=n.getShowOverflowMenu();void 0!==o?o(e,t,m,y):V(c.current,m,y,n),t.stopPropagation()},y=t=>{n.doAction(E.selectTab(t.node.getId())),_.current=!1},x=t=>{n.getEditingTab()?t.preventDefault():e.isEnableDrag()?(t.stopPropagation(),n.setDragNode(t.nativeEvent,e)):t.preventDefault()},D=t=>{if(!w(t)){let t=e.getName();t=void 0===t?"":": "+t,n.doAction(E.setActiveTabset(e.getId(),n.getWindowId()))}},O=t=>{w(t)&&n.auxMouseClick(e,t)},B=t=>{n.showContextMenu(e,t)},R=t=>{t.stopPropagation()},L=t=>{e.canMaximize()&&n.maximize(e),t.stopPropagation()},N=t=>{n.doAction(E.deleteTabset(e.getId())),t.stopPropagation()},I=t=>{n.doAction(E.deleteTab(e.getChildren()[0].getId())),t.stopPropagation()},k=t=>{void 0!==U&&n.doAction(E.popoutTab(U.getId())),t.stopPropagation()},S=t=>{e.canMaximize()&&n.maximize(e)},M=n.getClassName;null!==i.current&&0!==i.current.scrollLeft&&(i.current.scrollLeft=0);const U=e.getSelectedNode(),W=e.getPath(),F=[];if(e.isEnableTabStrip())for(let t=0;t<e.getChildren().length;t++){const o=e.getChildren()[t];let i=e.getSelected()===t;F.push(s.createElement(nt,{layout:n,node:o,path:W+"/tb"+t,key:o.getId(),selected:i})),t<e.getChildren().length-1&&F.push(s.createElement("div",{key:"divider"+t,className:M(d.FLEXLAYOUT__TABSET_TAB_DIVIDER)}))}let Y=[],P=[];const z={stickyButtons:Y,buttons:P,overflowPosition:void 0};n.customizeTabSet(e,z),Y=z.stickyButtons,P=z.buttons;const H=e.isEnableSingleTabStretch()&&1===e.getChildren().length,X=H&&e.getChildren()[0].isEnableClose()||e.isEnableClose();if(void 0===z.overflowPosition&&(z.overflowPosition=Y.length),Y.length>0&&(e.isEnableTabWrap()||!T&&!H?F.push(s.createElement("div",{ref:h,key:"sticky_buttons_container",onPointerDown:R,onDragStart:t=>{t.preventDefault()},className:M(d.FLEXLAYOUT__TAB_TOOLBAR_STICKY_BUTTONS_CONTAINER)},Y)):P=[...Y,...P]),!e.isEnableTabWrap()&&m.length>0){const t=n.i18nName(l.Overflow_Menu_Tooltip);let o;o="function"==typeof b.more?b.more(e,m):s.createElement(s.Fragment,null,b.more,s.createElement("div",{className:M(d.FLEXLAYOUT__TAB_BUTTON_OVERFLOW_COUNT)},m.length)),P.splice(Math.min(z.overflowPosition,P.length),0,s.createElement("button",{key:"overflowbutton","data-layout-path":W+"/button/overflow",ref:c,className:M(d.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+M(d.FLEXLAYOUT__TAB_BUTTON_OVERFLOW),title:t,onClick:v,onPointerDown:R},o))}if(void 0!==U&&n.isSupportsPopout()&&U.isEnablePopout()&&U.isEnablePopoutIcon()){const t=n.i18nName(l.Popout_Tab);P.push(s.createElement("button",{key:"popout","data-layout-path":W+"/button/popout",title:t,className:M(d.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+M(d.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_FLOAT),onClick:k,onPointerDown:R},"function"==typeof b.popout?b.popout(U):b.popout))}if(e.canMaximize()){const t=n.i18nName(l.Restore),o=n.i18nName(l.Maximize);P.push(s.createElement("button",{key:"max","data-layout-path":W+"/button/max",title:e.isMaximized()?t:o,className:M(d.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+M(d.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_+(e.isMaximized()?"max":"min")),onClick:L,onPointerDown:R},e.isMaximized()?"function"==typeof b.restore?b.restore(e):b.restore:"function"==typeof b.maximize?b.maximize(e):b.maximize))}if(!e.isMaximized()&&X){const t=H?n.i18nName(l.Close_Tab):n.i18nName(l.Close_Tabset);P.push(s.createElement("button",{key:"close","data-layout-path":W+"/button/close",title:t,className:M(d.FLEXLAYOUT__TAB_TOOLBAR_BUTTON)+" "+M(d.FLEXLAYOUT__TAB_TOOLBAR_BUTTON_CLOSE),onClick:H?I:N,onPointerDown:R},"function"==typeof b.closeTabset?b.closeTabset(e):b.closeTabset))}if(e.isActive()&&e.isEnableActiveIcon()){const t=n.i18nName(l.Active_Tabset);P.push(s.createElement("div",{key:"active","data-layout-path":W+"/button/active",title:t,className:M(d.FLEXLAYOUT__TAB_TOOLBAR_ICON)},"function"==typeof b.activeTabset?b.activeTabset(e):b.activeTabset))}const j=s.createElement("div",{key:"buttonbar",ref:a,className:M(d.FLEXLAYOUT__TAB_TOOLBAR),onPointerDown:R,onDragStart:t=>{t.preventDefault()}},P);let J,Z=M(d.FLEXLAYOUT__TABSET_TABBAR_OUTER);if(void 0!==e.getClassNameTabStrip()&&(Z+=" "+e.getClassNameTabStrip()),Z+=" "+d.FLEXLAYOUT__TABSET_TABBAR_OUTER_+e.getTabLocation(),e.isActive()&&(Z+=" "+M(d.FLEXLAYOUT__TABSET_SELECTED)),e.isMaximized()&&(Z+=" "+M(d.FLEXLAYOUT__TABSET_MAXIMIZED)),H){const t=e.getChildren()[0];void 0!==t.getTabSetClassName()&&(Z+=" "+t.getTabSetClassName())}var q;if(e.isEnableTabWrap()?e.isEnableTabStrip()&&(J=s.createElement("div",{className:Z,style:{flexWrap:"wrap",gap:"1px",marginTop:"2px"},ref:o,"data-layout-path":W+"/tabstrip",onPointerDown:D,onDoubleClick:S,onContextMenu:B,onClick:O,onAuxClick:O,draggable:!0,onDragStart:x},F,s.createElement("div",{style:{flexGrow:1}}),j)):e.isEnableTabStrip()&&(J=s.createElement("div",{className:Z,ref:o,"data-layout-path":W+"/tabstrip",onPointerDown:D,onDoubleClick:S,onContextMenu:B,onClick:O,onAuxClick:O,draggable:!0,onWheel:C,onDragStart:x},s.createElement("div",{ref:i,className:M(d.FLEXLAYOUT__TABSET_TABBAR_INNER)+" "+M(d.FLEXLAYOUT__TABSET_TABBAR_INNER_+e.getTabLocation())},s.createElement("div",{style:{left:f,width:H?"100%":"10000px"},className:M(d.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER)+" "+M(d.FLEXLAYOUT__TABSET_TABBAR_INNER_TAB_CONTAINER_+e.getTabLocation())},F)),j)),0===e.getChildren().length){const t=n.getTabSetPlaceHolderCallback();t&&(q=t(e))}let Q=s.createElement("div",{ref:r,className:M(d.FLEXLAYOUT__TABSET_CONTENT)},q);Q="top"===e.getTabLocation()?s.createElement(s.Fragment,null,J,Q):s.createElement(s.Fragment,null,Q,J);let $={flexGrow:Math.max(1,1e3*e.getWeight()),minWidth:e.getMinWidth(),minHeight:e.getMinHeight(),maxWidth:e.getMaxWidth(),maxHeight:e.getMaxHeight()};void 0===e.getModel().getMaximizedTabset(n.getWindowId())||e.isMaximized()||($.display="none");const K=s.createElement("div",{ref:p,className:M(d.FLEXLAYOUT__TABSET_CONTAINER),style:$},s.createElement("div",{className:M(d.FLEXLAYOUT__TABSET),"data-layout-path":W},Q));return e.isMaximized()&&n.getMainElement()?(0,A.createPortal)(s.createElement("div",{style:{position:"absolute",display:"flex",top:0,left:0,bottom:0,right:0}},K),n.getMainElement()):K},it=t=>{const{layout:e,node:n}=t,o=s.useRef(null),i=n.getOrientation()===u.HORZ;s.useLayoutEffect((()=>{n.setRect(e.getBoundingClientRect(o.current))}));const r=[];let a=0;for(const t of n.getChildren())a>0&&r.push(s.createElement(Y,{key:"splitter"+a,layout:e,node:n,index:a,horizontal:i})),t instanceof k?r.push(s.createElement(it,{key:t.getId(),layout:e,node:t})):t instanceof I&&r.push(s.createElement(ot,{key:t.getId(),layout:e,node:t})),a++;const l={flexGrow:Math.max(1,1e3*n.getWeight()),minWidth:n.getMinWidth(),minHeight:n.getMinHeight(),maxWidth:n.getMaxWidth(),maxHeight:n.getMaxHeight()};return l.flexDirection=i?"row":"column",s.createElement("div",{ref:o,className:e.getClassName(d.FLEXLAYOUT__ROW),style:l},r)},rt=t=>{const{layout:e,selected:n,node:o,path:i}=t,r=s.useRef(null),a=s.useRef(!0),l=o.getParent(),c=l.getContentRect();s.useLayoutEffect((()=>{const t=o.getMoveableElement();r.current.appendChild(t),o.setMoveableElement(t);const e=()=>{o.saveScrollPosition()};return t.addEventListener("scroll",e),r.current.addEventListener("pointerdown",A),()=>{t.removeEventListener("scroll",e),r.current&&r.current.removeEventListener("pointerdown",A),o.setVisible(!1)}}),[]),s.useEffect((()=>{o.isSelected()&&a.current&&(o.restoreScrollPosition(),a.current=!1)}));const A=()=>{const t=o.getParent();t instanceof I&&(t.isActive()||e.doAction(E.setActiveTabset(t.getId(),e.getWindowId())))};o.setRect(c);const h=e.getClassName,u={};c.styleWithPosition(u);let g=null;if(n){if(o.setVisible(!0),document.hidden&&o.isEnablePopoutOverlay()){const t={};c.styleWithPosition(t),g=s.createElement("div",{style:t,className:h(d.FLEXLAYOUT__TAB_OVERLAY)})}}else u.display="none",o.setVisible(!1);l instanceof I&&void 0!==o.getModel().getMaximizedTabset(e.getWindowId())&&(l.isMaximized()?u.zIndex=10:u.display="none"),l instanceof F&&(l.isShowing()||(u.display="none"));let b=h(d.FLEXLAYOUT__TAB);return l instanceof F&&(b+=" "+h(d.FLEXLAYOUT__TAB_BORDER),b+=" "+h(d.FLEXLAYOUT__TAB_BORDER_+l.getLocation().getName())),void 0!==o.getContentClassName()&&(b+=" "+o.getContentClassName()),s.createElement(s.Fragment,null,g,s.createElement("div",{ref:r,style:u,className:b,"data-layout-path":i}))},at=s.memo((({children:t})=>s.createElement(s.Fragment,null,t)),((t,e)=>t.rect.equalSize(e.rect)&&t.selected===e.selected&&t.forceRevision===e.forceRevision&&t.tabsRevision===e.tabsRevision));class st extends s.Component{constructor(t){super(t),this.selfRef=s.createRef(),this.revision=0}redraw(){this.selfRef.current.redraw("parent "+this.revision)}addTabToTabSet(t,e){return this.selfRef.current.addTabToTabSet(t,e)}addTabWithDragAndDrop(t,e,n){this.selfRef.current.addTabWithDragAndDrop(t,e,n)}moveTabWithDragAndDrop(t,e){this.selfRef.current.moveTabWithDragAndDrop(t,e)}addTabToActiveTabSet(t){return this.selfRef.current.addTabToActiveTabSet(t)}setDragComponent(t,e,n,o){this.selfRef.current.setDragComponent(t,e,n,o)}getRootDiv(){return this.selfRef.current.getRootDiv()}render(){return s.createElement(lt,Object.assign({ref:this.selfRef},this.props,{renderRevision:this.revision++}))}}class lt extends s.Component{constructor(t){super(t),this.moveableElementMap=new Map,this.dragEnterCount=0,this.dragging=!1,this.updateLayoutMetrics=()=>{if(this.findBorderBarSizeRef.current){const t=this.findBorderBarSizeRef.current.getBoundingClientRect().height;t!==this.state.calculatedBorderBarSize&&this.setState({calculatedBorderBarSize:t})}},this.onModelChange=t=>{this.redrawInternal("model change"),this.props.onModelChange&&this.props.onModelChange(this.props.model,t)},this.updateRect=()=>{const t=this.getDomRect();t.equals(this.state.rect)||0===t.width||0===t.height||(this.setState({rect:t}),this.windowId!==W.MAIN_WINDOW_ID&&this.redrawInternal("rect updated"))},this.getClassName=t=>void 0===this.props.classNameMapper?t:this.props.classNameMapper(t),this.onCloseWindow=t=>{this.doAction(E.closeWindow(t.windowId))},this.onSetWindow=(t,e)=>{},this.showControlInPortal=(t,e)=>{const n=(0,A.createPortal)(t,e);this.setState({portal:n})},this.hideControlInPortal=()=>{this.setState({portal:void 0})},this.getIcons=()=>this.icons,this.setDragNode=(t,e)=>{if(lt.dragState=new gt(this.mainLayout,ct.Internal,e,void 0,void 0),t.dataTransfer.setData("text/plain","--flexlayout--"),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.dropEffect="move",this.dragEnterCount=0,e instanceof I){let n=!1,o=this.i18nName(l.Move_Tabset);if(e.getChildren().length>0&&(o=this.i18nName(l.Move_Tabs).replace("?",String(e.getChildren().length))),this.props.onRenderDragRect){const i=this.props.onRenderDragRect(o,e,void 0);i&&(this.setDragComponent(t,i,10,10),n=!0)}n||this.setDragComponent(t,o,10,10)}else{const n=t.target.getBoundingClientRect(),o=t.clientX-n.left,i=t.clientY-n.top,r=null==e?void 0:e.getParent(),a=r instanceof F&&r.getOrientation()===u.HORZ,l=a?10:o,d=a?10:i;let c=!1;if(this.props.onRenderDragRect){const n=s.createElement(X,{key:e.getId(),layout:this,node:e}),o=this.props.onRenderDragRect(n,e,void 0);o&&(this.setDragComponent(t,o,l,d),c=!0)}c||(function(){const t=navigator.userAgent;return t.includes("Safari")&&!t.includes("Chrome")&&!t.includes("Chromium")}()?this.setDragComponent(t,s.createElement(X,{node:e,layout:this}),l,d):t.dataTransfer.setDragImage(e.getTabStamp(),l,d))}},this.onDragEnterRaw=t=>{this.dragEnterCount++,1===this.dragEnterCount&&this.onDragEnter(t)},this.onDragLeaveRaw=t=>{this.dragEnterCount--,0===this.dragEnterCount&&this.onDragLeave(t)},this.onDragEnter=t=>{var e;if(!lt.dragState&&this.props.onExternalDrag){const e=this.props.onExternalDrag(t);if(e){const t=v.fromJson(e.json,this.props.model,!1);lt.dragState=new gt(this.mainLayout,ct.External,t,e.json,e.onDrop)}}if(lt.dragState){if(this.windowId!==W.MAIN_WINDOW_ID&&lt.dragState.mainLayout===this.mainLayout&&lt.dragState.mainLayout.setDraggingOverWindow(!0),lt.dragState.mainLayout!==this.mainLayout)return;t.preventDefault(),this.dropInfo=void 0;const n=this.selfRef.current;this.outlineDiv=this.currentDocument.createElement("div"),this.outlineDiv.className=this.getClassName(d.FLEXLAYOUT__OUTLINE_RECT),this.outlineDiv.style.visibility="hidden";const o=this.props.model.getAttribute("tabDragSpeed");this.outlineDiv.style.transition=`top ${o}s, left ${o}s, width ${o}s, height ${o}s`,n.appendChild(this.outlineDiv),this.dragging=!0,this.showOverlay(!0),this.isDraggingOverWindow||void 0!==this.props.model.getMaximizedTabset(this.windowId)||this.setState({showEdges:this.props.model.isEnableEdgeDock()});const i=null===(e=this.selfRef.current)||void 0===e?void 0:e.getBoundingClientRect();new g(t.clientX-i.left,t.clientY-i.top,1,1).positionElement(this.outlineDiv)}},this.onDragOver=t=>{var e,n,o;if(this.dragging&&!this.isDraggingOverWindow){t.preventDefault();const i=null===(e=this.selfRef.current)||void 0===e?void 0:e.getBoundingClientRect(),r={x:t.clientX-(null!==(n=null==i?void 0:i.left)&&void 0!==n?n:0),y:t.clientY-(null!==(o=null==i?void 0:i.top)&&void 0!==o?o:0)};this.checkForBorderToShow(r.x,r.y);let a=this.props.model.findDropTargetNode(this.windowId,lt.dragState.dragNode,r.x,r.y);a&&(this.dropInfo=a,this.outlineDiv&&(this.outlineDiv.className=this.getClassName(a.className),a.rect.positionElement(this.outlineDiv),this.outlineDiv.style.visibility="visible"))}},this.onDragLeave=t=>{this.dragging&&(this.windowId!==W.MAIN_WINDOW_ID&&lt.dragState.mainLayout.setDraggingOverWindow(!1),this.clearDragLocal())},this.onDrop=t=>{if(this.dragging){t.preventDefault();const e=lt.dragState;if(this.dropInfo)if(void 0!==e.dragJson){const n=this.doAction(E.addNode(e.dragJson,this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));void 0!==e.fnNewNodeDropped&&e.fnNewNodeDropped(n,t)}else void 0!==e.dragNode&&this.doAction(E.moveNode(e.dragNode.getId(),this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index));this.mainLayout.clearDragMain()}this.dragEnterCount=0},this.orderedIds=[],this.selfRef=s.createRef(),this.moveablesRef=s.createRef(),this.mainRef=s.createRef(),this.findBorderBarSizeRef=s.createRef(),this.supportsPopout=void 0!==t.supportsPopout?t.supportsPopout:At,this.popoutURL=t.popoutURL?t.popoutURL:"popout.html",this.icons=Object.assign(Object.assign({},dt),t.icons),this.windowId=t.windowId?t.windowId:W.MAIN_WINDOW_ID,this.mainLayout=this.props.mainLayout?this.props.mainLayout:this,this.isDraggingOverWindow=!1,this.layoutWindow=this.props.model.getwindowsMap().get(this.windowId),this.layoutWindow.layout=this,this.popoutWindowName=this.props.popoutWindowName||"Popout Window",this.state={rect:g.empty(),editingTab:void 0,showEdges:!1,showOverlay:!1,calculatedBorderBarSize:29,layoutRevision:0,forceRevision:0,showHiddenBorder:b.CENTER},this.isMainWindow=this.windowId===W.MAIN_WINDOW_ID}componentDidMount(){if(this.updateRect(),this.currentDocument=this.selfRef.current.ownerDocument,this.currentWindow=this.currentDocument.defaultView,this.layoutWindow.window=this.currentWindow,this.layoutWindow.toScreenRectFunction=t=>this.getScreenRect(t),this.resizeObserver=new ResizeObserver((t=>{requestAnimationFrame((()=>{this.updateRect()}))})),this.selfRef.current&&this.resizeObserver.observe(this.selfRef.current),this.isMainWindow)this.props.model.addChangeListener(this.onModelChange),this.updateLayoutMetrics();else{this.currentWindow.addEventListener("resize",(()=>{this.updateRect()}));const t=this.props.mainLayout.getRootDiv(),e=this.selfRef.current;R(t,e),this.styleObserver=new MutationObserver((()=>{R(t,e)&&this.redraw("mutation observer")})),this.styleObserver.observe(t,{attributeFilter:["style"]})}document.addEventListener("visibilitychange",(()=>{for(const[t,e]of this.props.model.getwindowsMap())e.layout&&this.redraw("visibility change")}))}componentDidUpdate(){this.currentDocument=this.selfRef.current.ownerDocument,this.currentWindow=this.currentDocument.defaultView,this.isMainWindow&&(this.props.model!==this.previousModel&&(void 0!==this.previousModel&&this.previousModel.removeChangeListener(this.onModelChange),this.props.model.getwindowsMap().get(this.windowId).layout=this,this.props.model.addChangeListener(this.onModelChange),this.layoutWindow=this.props.model.getwindowsMap().get(this.windowId),this.layoutWindow.layout=this,this.layoutWindow.toScreenRectFunction=t=>this.getScreenRect(t),this.previousModel=this.props.model,this.tidyMoveablesMap()),this.updateLayoutMetrics())}componentWillUnmount(){var t,e;this.selfRef.current&&(null===(t=this.resizeObserver)||void 0===t||t.unobserve(this.selfRef.current)),null===(e=this.styleObserver)||void 0===e||e.disconnect()}render(){if(!this.selfRef.current)return s.createElement("div",{ref:this.selfRef,className:this.getClassName(d.FLEXLAYOUT__LAYOUT)},s.createElement("div",{ref:this.moveablesRef,key:"__moveables__",className:this.getClassName(d.FLEXLAYOUT__LAYOUT_MOVEABLES)}),this.renderMetricsElements());const t=this.props.model;t.getRoot(this.windowId).calcMinMaxSize(),t.getRoot(this.windowId).setPaths(""),t.getBorderSet().setPaths();const e=this.renderLayout(),n=this.renderBorders(e),o=this.renderTabs(),i=this.reorderComponents(o,this.orderedIds);let r=null,a=null,l=null,c=null;return this.isMainWindow&&(r=this.renderWindows(),c=this.renderMetricsElements(),a=this.renderTabMoveables(),l=s.createElement("div",{key:"__tabStamps__",className:this.getClassName(d.FLEXLAYOUT__LAYOUT_TAB_STAMPS)},this.renderTabStamps())),s.createElement("div",{ref:this.selfRef,className:this.getClassName(d.FLEXLAYOUT__LAYOUT),onDragEnter:this.onDragEnterRaw,onDragLeave:this.onDragLeaveRaw,onDragOver:this.onDragOver,onDrop:this.onDrop},s.createElement("div",{ref:this.moveablesRef,key:"__moveables__",className:this.getClassName(d.FLEXLAYOUT__LAYOUT_MOVEABLES)}),c,s.createElement(et,{key:"__overlay__",layout:this,show:this.state.showOverlay}),n,i,a,l,this.state.portal,r)}renderBorders(t){const e=this.getClassName(d.FLEXLAYOUT__LAYOUT_MAIN),n=this.props.model.getBorderSet().getBorderMap();if(this.isMainWindow&&n.size>0){t=s.createElement("div",{className:e,ref:this.mainRef},t);const o=new Map,i=new Map;for(const[t,e]of b.values){const t=n.get(e);t&&t.isShowing()&&(!t.isAutoHide()||t.isAutoHide()&&(t.getChildren().length>0||this.state.showHiddenBorder===e))&&(o.set(e,s.createElement(J,{layout:this,border:t,size:this.state.calculatedBorderBarSize})),i.set(e,s.createElement(P,{layout:this,border:t,show:-1!==t.getSelected()})))}const r=this.getClassName(d.FLEXLAYOUT__LAYOUT_BORDER_CONTAINER),a=this.getClassName(d.FLEXLAYOUT__LAYOUT_BORDER_CONTAINER_INNER);if(this.props.model.getBorderSet().getLayoutHorizontal()){const e=s.createElement("div",{className:a,style:{flexDirection:"column"}},i.get(b.TOP),s.createElement("div",{className:a,style:{flexDirection:"row"}},i.get(b.LEFT),t,i.get(b.RIGHT)),i.get(b.BOTTOM));return s.createElement("div",{className:r,style:{flexDirection:"column"}},o.get(b.TOP),s.createElement("div",{className:a,style:{flexDirection:"row"}},o.get(b.LEFT),e,o.get(b.RIGHT)),o.get(b.BOTTOM))}{const e=s.createElement("div",{className:a,style:{flexDirection:"row"}},i.get(b.LEFT),s.createElement("div",{className:a,style:{flexDirection:"column"}},i.get(b.TOP),t,i.get(b.BOTTOM)),i.get(b.RIGHT));return s.createElement("div",{className:r,style:{flexDirection:"row"}},o.get(b.LEFT),s.createElement("div",{className:a,style:{flexDirection:"column"}},o.get(b.TOP),e,o.get(b.BOTTOM)),o.get(b.RIGHT))}}return s.createElement("div",{className:e,ref:this.mainRef,style:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex"}},t)}renderLayout(){return s.createElement(s.Fragment,null,s.createElement(it,{key:"__row__",layout:this,node:this.props.model.getRoot(this.windowId)}),this.renderEdgeIndicators())}renderEdgeIndicators(){const t=[],e=this.icons.edgeArrow;if(this.state.showEdges){const n=this.props.model.getRoot(this.windowId).getRect(),o=ht,i=ut,r=ht/2,a=this.getClassName(d.FLEXLAYOUT__EDGE_RECT),l=50;t.push(s.createElement("div",{key:"North",style:{top:0,left:n.width/2-r,width:o,height:i,borderBottomLeftRadius:l,borderBottomRightRadius:l},className:a+" "+this.getClassName(d.FLEXLAYOUT__EDGE_RECT_TOP)},s.createElement("div",{style:{transform:"rotate(180deg)"}},e))),t.push(s.createElement("div",{key:"West",style:{top:n.height/2-r,left:0,width:i,height:o,borderTopRightRadius:l,borderBottomRightRadius:l},className:a+" "+this.getClassName(d.FLEXLAYOUT__EDGE_RECT_LEFT)},s.createElement("div",{style:{transform:"rotate(90deg)"}},e))),t.push(s.createElement("div",{key:"South",style:{top:n.height-i,left:n.width/2-r,width:o,height:i,borderTopLeftRadius:l,borderTopRightRadius:l},className:a+" "+this.getClassName(d.FLEXLAYOUT__EDGE_RECT_BOTTOM)},s.createElement("div",null,e))),t.push(s.createElement("div",{key:"East",style:{top:n.height/2-r,left:n.width-i,width:i,height:o,borderTopLeftRadius:l,borderBottomLeftRadius:l},className:a+" "+this.getClassName(d.FLEXLAYOUT__EDGE_RECT_RIGHT)},s.createElement("div",{style:{transform:"rotate(-90deg)"}},e)))}return t}renderWindows(){const t=[];if(this.supportsPopout){const e=this.props.model.getwindowsMap();let n=1;for(const[o,i]of e)o!==W.MAIN_WINDOW_ID&&(t.push(s.createElement(Q,{key:o,layout:this,title:this.popoutWindowName+" "+n,layoutWindow:i,url:this.popoutURL+"?id="+o,onSetWindow:this.onSetWindow,onCloseWindow:this.onCloseWindow},s.createElement(lt,Object.assign({},this.props,{windowId:o,mainLayout:this})))),n++)}return t}renderTabMoveables(){const t=[];return this.props.model.visitNodes((e=>{if(e instanceof v){const n=e,o=this.getMoveableElement(n.getId());n.setMoveableElement(o);const i=n.isSelected(),r=n.getParent().getContentRect(),a=n.isRendered()||(i||!n.isEnableRenderOnDemand())&&r.width>0&&r.height>0;if(a){const e=n.getId()+(n.isEnableWindowReMount()?n.getWindowId():"");t.push((0,A.createPortal)(s.createElement(at,{rect:r,selected:n.isSelected(),forceRevision:this.state.forceRevision,tabsRevision:this.props.renderRevision,key:e},s.createElement(q,{message:this.i18nName(l.Error_rendering_component)},this.props.factory(n))),o,e)),n.setRendered(a)}}})),t}renderTabStamps(){const t=[];return this.props.model.visitNodes((e=>{if(e instanceof v){const n=e;t.push(s.createElement(Z,{key:n.getId(),layout:this,node:n}))}})),t}renderTabs(){const t=new Map;return this.props.model.visitWindowNodes(this.windowId,(e=>{if(e instanceof v){const n=e,o=n.isSelected(),i=n.getPath();(n.isRendered()||o||!n.isEnableRenderOnDemand())&&t.set(n.getId(),s.createElement(rt,{key:n.getId(),layout:this,path:i,node:n,selected:o}))}})),t}renderMetricsElements(){return s.createElement("div",{key:"findBorderBarSize",ref:this.findBorderBarSizeRef,className:this.getClassName(d.FLEXLAYOUT__BORDER_SIZER)},"FindBorderBarSize")}checkForBorderToShow(t,e){const n=this.getBoundingClientRect(this.mainRef.current),o=n.getCenter(),i=ut,r=ht/2;let a=!1;this.props.model.isEnableEdgeDock()&&this.state.showHiddenBorder===b.CENTER&&(e>o.y-r&&e<o.y+r||t>o.x-r&&t<o.x+r)&&(a=!0);let s=b.CENTER;a||(t<=n.x+i?s=b.LEFT:t>=n.getRight()-i?s=b.RIGHT:e<=n.y+i?s=b.TOP:e>=n.getBottom()-i&&(s=b.BOTTOM)),s!==this.state.showHiddenBorder&&this.setState({showHiddenBorder:s})}tidyMoveablesMap(){const t=new Map;this.props.model.visitNodes(((e,n)=>{e instanceof v&&t.set(e.getId(),e)}));for(const[e,n]of this.moveableElementMap)t.has(e)||(n.remove(),this.moveableElementMap.delete(e))}reorderComponents(t,e){const n=[],o=new Set;let i=[];for(const i of e)t.get(i)&&(n.push(i),o.add(i));e.splice(0,e.length,...n);for(const[n,i]of t)o.has(n)||e.push(n);return i=e.map((e=>t.get(e))),i}redraw(t){this.mainLayout.setState(((t,e)=>({forceRevision:t.forceRevision+1})))}redrawInternal(t){this.mainLayout.setState(((t,e)=>({layoutRevision:t.layoutRevision+1})))}doAction(t){if(void 0!==this.props.onAction){const e=this.props.onAction(t);return void 0!==e?this.props.model.doAction(e):void 0}return this.props.model.doAction(t)}getBoundingClientRect(t){const e=this.getDomRect();return e?g.getBoundingClientRect(t).relativeTo(e):g.empty()}getMoveableContainer(){return this.moveablesRef.current}getMoveableElement(t){let e=this.moveableElementMap.get(t);return void 0===e&&(e=document.createElement("div"),this.moveablesRef.current.appendChild(e),e.className=d.FLEXLAYOUT__TAB_MOVEABLE,this.moveableElementMap.set(t,e)),e}getMainLayout(){return this.mainLayout}getCurrentDocument(){return this.currentDocument}getDomRect(){return this.selfRef.current?g.fromDomRect(this.selfRef.current.getBoundingClientRect()):g.empty()}getWindowId(){return this.windowId}getRootDiv(){return this.selfRef.current}getMainElement(){return this.mainRef.current}getFactory(){return this.props.factory}isSupportsPopout(){return this.supportsPopout}isRealtimeResize(){var t;return null!==(t=this.props.realtimeResize)&&void 0!==t&&t}getPopoutURL(){return this.popoutURL}setEditingTab(t){this.setState({editingTab:t})}getEditingTab(){return this.state.editingTab}getModel(){return this.props.model}getScreenRect(t){const e=t.clone(),n=this.getDomRect();return e.x=this.currentWindow.screenX+this.currentWindow.scrollX+1+n.x+e.x,e.y=this.currentWindow.screenY+this.currentWindow.scrollY+59+n.y+e.y,e.height+=60,e.width+=2,e}addTabToTabSet(t,e){if(void 0!==this.props.model.getNodeById(t))return this.doAction(E.addNode(e,t,b.CENTER,-1))}addTabToActiveTabSet(t){const e=this.props.model.getActiveTabset(this.windowId);if(void 0!==e)return this.doAction(E.addNode(t,e.getId(),b.CENTER,-1))}maximize(t){this.doAction(E.maximizeToggle(t.getId(),this.getWindowId()))}customizeTab(t,e){this.props.onRenderTab&&this.props.onRenderTab(t,e)}customizeTabSet(t,e){this.props.onRenderTabSet&&this.props.onRenderTabSet(t,e)}i18nName(t,e){let n;return this.props.i18nMapper&&(n=this.props.i18nMapper(t,e)),void 0===n&&(n=t+(void 0===e?"":e)),n}getShowOverflowMenu(){return this.props.onShowOverflowMenu}getTabSetPlaceHolderCallback(){return this.props.onTabSetPlaceHolder}showContextMenu(t,e){this.props.onContextMenu&&this.props.onContextMenu(t,e)}auxMouseClick(t,e){this.props.onAuxMouseClick&&this.props.onAuxMouseClick(t,e)}showOverlay(t){this.setState({showOverlay:t}),D(!t,this.currentDocument)}addTabWithDragAndDrop(t,e,n){const o=v.fromJson(e,this.props.model,!1);lt.dragState=new gt(this.mainLayout,ct.Add,o,e,n)}moveTabWithDragAndDrop(t,e){this.setDragNode(t,e)}setDragComponent(t,e,n,o){let i=s.createElement("div",{style:{position:"unset"},className:this.getClassName(d.FLEXLAYOUT__LAYOUT)+" "+this.getClassName(d.FLEXLAYOUT__DRAG_RECT)},e);const r=this.currentDocument.createElement("div");r.setAttribute("data-layout-path","/drag-rectangle"),r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",this.currentDocument.body.appendChild(r),(0,h.H)(r).render(i),t.dataTransfer.setDragImage(r,n,o),setTimeout((()=>{this.currentDocument.body.removeChild(r)}),0)}setDraggingOverWindow(t){this.isDraggingOverWindow!==t&&(this.outlineDiv&&(this.outlineDiv.style.visibility=t?"hidden":"visible"),t?this.setState({showEdges:!1}):void 0===this.props.model.getMaximizedTabset(this.windowId)&&this.setState({showEdges:this.props.model.isEnableEdgeDock()}),this.isDraggingOverWindow=t)}clearDragMain(){lt.dragState=void 0,this.windowId===W.MAIN_WINDOW_ID&&(this.isDraggingOverWindow=!1);for(const[,t]of this.props.model.getwindowsMap())t.layout.clearDragLocal()}clearDragLocal(){this.setState({showEdges:!1}),this.showOverlay(!1),this.dragEnterCount=0,this.dragging=!1,this.outlineDiv&&(this.selfRef.current.removeChild(this.outlineDiv),this.outlineDiv=void 0)}}lt.dragState=void 0;const dt={close:s.createElement(tt,null),closeTabset:s.createElement(tt,null),popout:s.createElement((()=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:K,viewBox:"0 0 20 20",fill:"var(--color-icon)"},s.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),s.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))),null),maximize:s.createElement((()=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:K,viewBox:"0 0 24 24",fill:"var(--color-icon)"},s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),s.createElement("path",{stroke:"var(--color-icon)",d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))),null),restore:s.createElement((()=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:K,viewBox:"0 0 24 24",fill:"var(--color-icon)"},s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),s.createElement("path",{stroke:"var(--color-icon)",d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))),null),more:s.createElement((()=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:K,viewBox:"0 0 24 24",fill:"var(--color-icon)"},s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),s.createElement("path",{stroke:"var(--color-icon)",d:"M7 10l5 5 5-5z"}))),null),edgeArrow:s.createElement((()=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"block",width:10,height:10},preserveAspectRatio:"none",viewBox:"0 0 100 100"},s.createElement("path",{fill:"var(--color-edge-icon)",stroke:"var(--color-edge-icon)",d:"M10 30 L90 30 l-40 40 Z"}))),null),activeTabset:s.createElement((()=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:K,height:"24px",viewBox:"0 -960 960 960",width:"24px"},s.createElement("path",{fill:"var(--color-icon)",stroke:"var(--color-icon)",d:"M440-120v-264L254-197l-57-57 187-186H120v-80h264L197-706l57-57 186 187v-264h80v264l186-187 57 57-187 186h264v80H576l187 186-57 57-186-187v264h-80Z"}))),null)};var ct;!function(t){t.Internal="internal",t.External="external",t.Add="add"}(ct||(ct={}));const At=y(),ht=100,ut=10;class gt{constructor(t,e,n,o,i){this.mainLayout=t,this.dragSource=e,this.dragNode=n,this.dragJson=o,this.fnNewNodeDropped=i}}function bt(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function pt(t){return function e(n){return 0===arguments.length||bt(n)?e:t.apply(this,arguments)}}function Et(t){return function e(n,o){switch(arguments.length){case 0:return e;case 1:return bt(n)?e:pt((function(e){return t(n,e)}));default:return bt(n)&&bt(o)?e:bt(n)?pt((function(e){return t(e,o)})):bt(o)?pt((function(e){return t(n,e)})):t(n,o)}}}function ft(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function _t(t,e,n){for(var o=0,i=n.length;o<i;){if(t(e,n[o]))return!0;o+=1}return!1}function mt(t,e){return Object.prototype.hasOwnProperty.call(e,t)}const Ct="function"==typeof Object.is?Object.is:function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};var Tt=Object.prototype.toString;const vt=function(){return"[object Arguments]"===Tt.call(arguments)?function(t){return"[object Arguments]"===Tt.call(t)}:function(t){return mt("callee",t)}}();var yt=!{toString:null}.propertyIsEnumerable("toString"),xt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],wt=function(){return arguments.propertyIsEnumerable("length")}(),Dt=function(t,e){for(var n=0;n<t.length;){if(t[n]===e)return!0;n+=1}return!1};const Ot="function"!=typeof Object.keys||wt?pt((function(t){if(Object(t)!==t)return[];var e,n,o=[],i=wt&&vt(t);for(e in t)!mt(e,t)||i&&"length"===e||(o[o.length]=e);if(yt)for(n=xt.length-1;n>=0;)mt(e=xt[n],t)&&!Dt(o,e)&&(o[o.length]=e),n-=1;return o})):pt((function(t){return Object(t)!==t?[]:Object.keys(t)})),Bt=pt((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function Rt(t,e,n,o){var i=ft(t);function r(t,e){return Lt(t,e,n.slice(),o.slice())}return!_t((function(t,e){return!_t(r,e,t)}),ft(e),i)}function Lt(t,e,n,o){if(Ct(t,e))return!0;var i,r,a=Bt(t);if(a!==Bt(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(i=t.constructor,null==(r=String(i).match(/^function (\w*)/))?"":r[1]))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!Ct(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!Ct(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var s=n.length-1;s>=0;){if(n[s]===t)return o[s]===e;s-=1}switch(a){case"Map":return t.size===e.size&&Rt(t.entries(),e.entries(),n.concat([t]),o.concat([e]));case"Set":return t.size===e.size&&Rt(t.values(),e.values(),n.concat([t]),o.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=Ot(t);if(l.length!==Ot(e).length)return!1;var d=n.concat([t]),c=o.concat([e]);for(s=l.length-1;s>=0;){var A=l[s];if(!mt(A,e)||!Lt(e[A],t[A],d,c))return!1;s-=1}return!0}const Nt=Et((function(t,e){return Lt(t,e,[],[])}));function It(t,e){return function(t,e,n){var o,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(o=1/e;n<t.length;){if(0===(i=t[n])&&1/i===o)return n;n+=1}return-1}if(e!=e){for(;n<t.length;){if("number"==typeof(i=t[n])&&i!=i)return n;n+=1}return-1}return t.indexOf(e,n);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,n);case"object":if(null===e)return t.indexOf(e,n)}for(;n<t.length;){if(Nt(t[n],e))return n;n+=1}return-1}(e,t,0)>=0}const kt=Et(It),St=Et((function(t,e){if(0===t.length)return!1;for(var n=e,o=0;o<t.length;){if(!mt(t[o],n))return!1;n=n[t[o]],o+=1}return!0})),Mt=Et((function(t,e){return St([t],e)})),Ut="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1,o=arguments.length;n<o;){var i=arguments[n];if(null!=i)for(var r in i)mt(r,i)&&(e[r]=i[r]);n+=1}return e},Wt=Et((function(t,e){return Ut({},t,e)})),Ft=pt((function(t){return null==t})),Yt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)},Pt=pt((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():Yt(t)?[]:function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)?"":function(t){return"[object Object]"===Object.prototype.toString.call(t)}(t)?{}:vt(t)?function(){return arguments}():void 0})),zt=pt((function(t){return null!=t&&Nt(t,Pt(t))})),Ht=Et((function(t,e){var n={};for(var o in e)n[o]=e[o];return delete n[t],n}));var Xt=n(848),Vt=n.n(Xt);const jt=window.PropTypes;var Gt=n.n(jt);function Jt(t){const{element:e,extraProps:n,props:o,children:i,type:r}=t,a=function(t,e,n,o,i=null){const r=[];for(const s in t)if(t.hasOwnProperty(s)){let l;try{"function"!=typeof t[s]?(l=Error((o||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[s]+"`."),l.name="Invariant Violation"):l=t[s](e,s,o,n,null,Vt())}catch(t){l=t}if(!l||l instanceof Error||r.push((o||"React class")+": type specification of "+n+" `"+s+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error){var a=i&&i()||"";r.push("Failed "+n+" type: "+l.message+a)}}return r.join("\n\n")}(e.propTypes,o,"component prop",e);return a&&function(t,e,n){const o=t.split("`");let i;if(kt("is marked as required",t))i=`${o[1]} in ${n}`,e.id&&(i+=` with ID "${e.id}"`),i+=" is required but it was not provided.";else if(kt("Bad object",t))i=t.split("supplied to ")[0]+`supplied to ${n}.\nBad`+t.split(".\nBad")[1];else{if(!kt("Invalid ",t)||!kt(" supplied to ",t))throw new Error(t);{const r=o[1];if(i=`Invalid argument \`${r}\` passed into ${n}`,e.id&&(i+=` with ID "${e.id}"`),i+=".",kt(", expected ",t)&&(i+=`\nExpected ${t.split(", expected ")[1]}`),kt(" of type `",t)&&(i+=`\nWas supplied type \`${t.split(" of type `")[1].split("`")[0]}\`.`),Mt(r,e)){const t=JSON.stringify(e[r],null,2);t&&(kt("\n",t)?i+=`\nValue provided: \n${t}`:i+=`\nValue provided: ${t}`)}}}throw new Error(i)}(a,o,r),function(t,e,n,o){const i=Wt(e,n);return Array.isArray(o)?c().createElement(t,i,...o):c().createElement(t,i,o)}(e,o,n,i)}Jt.propTypes={children:Gt().any,element:Gt().any,layout:Gt().any,props:Gt().any,extraProps:Gt().any,id:Gt().string};const Zt=["String","Number","Null","Boolean"],qt={is_loading:!1};function Qt(t,e=null){if(Ft(t)||zt(t))return null;if((t=>kt(Bt(t),Zt))(t))return t;if(Array.isArray(t))return t.map(((t,e)=>Qt(t,e)));const n=(t=>{const{type:e,namespace:n}=t,o=window[n];if(o){if(o[e])return o[e];throw new Error(`Component ${e} not found in ${n}`)}throw new Error(`${n} was not found.`)})(t),o=Ht("children",t.props),i=Qt(t.props.children);var r;"Object"===Bt(o.id)&&(o.id="object"!=typeof(r=o.id)?r:"{"+Object.keys(r).sort().map((t=>{return JSON.stringify(t)+":"+((e=r[t])&&e.wild||JSON.stringify(e));var e})).join(",")+"}");const a={props:o,element:n,extraProps:{loading_state:qt,setProps:()=>null},type:t.type,key:e};return c().createElement(Jt,a,i)}var $t=n(72),Kt=n.n($t),te=n(825),ee=n.n(te),ne=n(659),oe=n.n(ne),ie=n(56),re=n.n(ie),ae=n(540),se=n.n(ae),le=n(113),de=n.n(le),ce=n(591),Ae={};Ae.styleTagTransform=de(),Ae.setAttributes=re(),Ae.insert=oe().bind(null,"head"),Ae.domAPI=ee(),Ae.insertStyleElement=se(),Kt()(ce.A,Ae),ce.A&&ce.A.locals&&ce.A.locals;var he=n(439),ue={};ue.styleTagTransform=de(),ue.setAttributes=re(),ue.insert=oe().bind(null,"head"),ue.domAPI=ee(),ue.insertStyleElement=se(),Kt()(he.A,ue),he.A&&he.A.locals&&he.A.locals;const ge=()=>!("undefined"==typeof window||!("dash_component_api"in window)),be=new Map;function pe(t){const e={total:0,borderTabs:0,layoutTabs:0};if(t.borders)for(const n of t.borders)if(n.children)for(const t of n.children)"tab"===t.type&&(e.borderTabs++,e.total++);return t.layout&&(e.layoutTabs=Ee(t.layout),e.total+=e.layoutTabs),e}function Ee(t){if(!t)return 0;if("tab"===t.type)return 1;let e=0;if(t.children&&Array.isArray(t.children))for(const n of t.children)e+=Ee(n);return e}function fe(t,e=3){const n=JSON.parse(JSON.stringify(t));let o=e;if(n.borders&&n.borders.length>0)for(const t of n.borders)if(t.children&&t.children.length>0){if(o<=0){t.children=[];continue}const e=t.children.filter((t=>"tab"===t.type));e.length>o?(t.children=t.children.filter((t=>"tab"!==t.type)),t.children.push(...e.slice(0,o)),o=0):o-=e.length}return o>0&&n.layout?n.layout=_e(n.layout,o):o<=0&&n.layout&&(n.layout=me(n.layout.type)),n}function _e(t,e){if(!t)return null;if("tab"===t.type)return e>0?(e--,t):null;if("tabset"===t.type&&t.children){const n=t.children.filter((t=>"tab"===t.type));if(n.length<=e)return e-=n.length,t;{const o={...t};return o.children=n.slice(0,e),e=0,o}}if(t.children&&Array.isArray(t.children)){const n=[];let o=e;for(const e of t.children){if(o<=0)break;const t=_e({...e},o);t&&(o-=Ee(t),n.push(t))}return{...t,children:n.length>0?n:[me("tabset")]}}return t}function me(t){return"tabset"===t?{type:"tabset",weight:100,children:[]}:"row"===t||"column"===t?{type:t,weight:100,children:[me("tabset")]}:{type:"row",weight:100,children:[me("tabset")]}}const Ce=(t,e)=>{const n=e.getId(),o=c().Children.toArray(t).filter((t=>((t,e)=>{if(t.props)if(ge()&&t.props.componentPath){const n=(t=>{var e,n,o,i;if(ge()&&"undefined"!=typeof window&&window.dash_component_api){if(t.props&&t.props.componentPath)try{return window.dash_component_api.getLayout(t.props.componentPath)}catch(t){return{type:null,props:{}}}return{type:null,props:{}}}return{type:null===(n=null===(e=t.props)||void 0===e?void 0:e._dashprivate_layout)||void 0===n?void 0:n.type,props:null===(i=null===(o=t.props)||void 0===o?void 0:o._dashprivate_layout)||void 0===i?void 0:i.props}})(t);if(n&&n.props&&n.props.id===e)return!0}else{if(t.props._dashprivate_layout&&t.props._dashprivate_layout.props.id===e)return!0;if(t.props.id===e)return!0}return t.key===e})(t,n)));return o},Te=({id:t,model:e,children:n,headers:o,setProps:i,useStateForModel:r=!1,popoutURL:a="/assets/popout.html",apiKey:l,apiUrl:d,freeTabLimit:A=3,colorScheme:h,style:u,loading_state:g,debugMode:b=!1,...p})=>{const[E,f]=(0,s.useState)({isValidated:!1,isValid:!1,message:""}),[_,m]=(0,s.useState)(!1),[C,T]=(0,s.useState)(h||("undefined"!=typeof document&&"dark"===document.documentElement.getAttribute("data-mantine-color-scheme")?"dark":"light")),v=(0,s.useMemo)((()=>pe(e)),[e]),y=(0,s.useMemo)((()=>function(t,e=3){return pe(t).total>e}(e,A)),[e,A]),[x]=(0,s.useState)(e),[w,D]=(0,s.useState)((()=>W.fromJson(e))),[O,B]=(0,s.useState)(null);(0,s.useEffect)((()=>{if("undefined"==typeof document)return;const t=()=>{const t=document.documentElement.getAttribute("data-mantine-color-scheme");t&&t!==C&&T(t)};t();const e=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"data-mantine-color-scheme"===e.attributeName&&t()}))}));return e.observe(document.documentElement,{attributes:!0}),()=>{e.disconnect()}}),[C]),(0,s.useEffect)((()=>{const t=i&&!r?W.fromJson(e):w;if(!E.isValid&&y)try{const e=fe(t.toJson(),A),n=W.fromJson(e);B(n),_||m(!0)}catch(e){console.error("Error limiting model:",e),B(t)}else B(t),_&&m(!1)}),[e,w,E.isValid,y,A,_,i,r]),(0,s.useEffect)((()=>{let t=!0;return(async()=>{try{if(l){b&&console.log("DashDock: Validating API key...");const e=await async function(t,e,n,o){if(!t)return{valid:!1,message:"No API key provided"};const i=`${t}:${e}`;if(be.has(i))return be.get(i);const r=await async function(t,e,n,o){if(!t)return{valid:!1,message:"No API key provided"};try{const i=new URL(o||"https://geomapindex.com/api/api-keys/validate"),r=`${i.origin}${i.pathname}?key=${t}`,a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({component_name:e,items_count:n})}),s=await a.json();return a.ok?{valid:s.valid,message:s.message,usage_count:s.usage_count}:(console.error("API validation failed:",s),{valid:!1,message:s.message||"API validation failed"})}catch(t){return console.error("API key validation error:",t),{valid:!1,message:"API validation error"}}}(t,e,n,o);return be.set(i,r),r}(l,"DashDock",v.total,d);t&&(f({isValidated:!0,isValid:e.valid,message:e.message}),b&&console.log(`DashDock: API key validation result: ${e.valid?"Valid":"Invalid"} - ${e.message}`))}else t&&(f({isValidated:!0,isValid:!1,message:"No API key provided"}),y&&b&&console.log("DashDock: You are using the free version which is limited to 3 tabs. Get an API key for unlimited tabs at https://pip-install-python.com/pip/dash_dock"))}catch(e){console.error("API validation error:",e),t&&f({isValidated:!0,isValid:!1,message:"Error validating API key"})}})(),()=>{t=!1}}),[l,d,v.total,y,b]);const R=(null==g?void 0:g.is_loading)||!1;return(0,s.useEffect)((()=>{_&&!R&&b&&console.warn("DashDock: Your layout has been limited to 3 tabs because you are using the free version. Get an API key for unlimited tabs at https://pip-install-python.com/pip/dash_dock")}),[_,R,b]),O?c().createElement("div",{className:`dash-dock-container dash-dock-${C}`,style:u},E.isValid&&b&&c().createElement("div",{className:"dashdock-premium-indicator"},"DashDock Premium"),c().createElement(st,{model:O,factory:t=>{const e=Ce(n,t);return c().createElement(c().Fragment,null,e)},onModelChange:t=>{i&&!r?i({model:t.toJson()}):D(t)},onRenderTab:(t,e)=>{var n;if(o&&o[t.getId()]){const i=o[t.getId()];c().isValidElement(i)&&(null===(n=i.props)||void 0===n?void 0:n.namespace)?e.content=Qt(i):e.content=i}},popoutURL:a,...p}),!E.isValid&&y&&_&&c().createElement("div",{className:"dashdock-free-indicator"},"DashDock Free (Limited to ",A," tabs)")):c().createElement("div",{className:"dash-dock-loading",style:u},"Loading dock layout...")},ve=({id:t,children:e})=>c().createElement(c().Fragment,null,e);window.dash_dock=a})();
//# sourceMappingURL=dash_dock.min.js.map